"2003-07-22 22:15:21 +0000"
diff --git a/Rules.mak b/Rules.mak
index b38225fbe..55e9b5ce6 100644
--- a/Rules.mak
+++ b/Rules.mak
@@ -140,20 +140,20 @@ OPTIMIZATIONS=$(OPTIMIZATION) -fomit-frame-pointer
 # prone to casual user adjustment.
 # 
 
-ifeq ($(strip $(DOLFS)),y)
+ifeq ($(strip $(CONFIG_LFS)),y)
     # For large file summit support
     CFLAGS+=-D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64
 endif
-ifeq ($(strip $(DODMALLOC)),y)
+ifeq ($(strip $(CONFIG_DMALLOC)),y)
     # For testing mem leaks with dmalloc
     CFLAGS+=-DDMALLOC
     LIBRARIES:=-ldmalloc
 else
-    ifeq ($(strip $(DOEFENCE)),y)
+    ifeq ($(strip $(CONFIG_EFENCE)),y)
 	LIBRARIES:=-lefence
     endif
 endif
-ifeq ($(strip $(DODEBUG)),y)
+ifeq ($(strip $(CONFIG_DEBUG)),y)
     CFLAGS  +=$(WARNINGS) -g -D_GNU_SOURCE
     LDFLAGS +=-Wl,-warn-common
     STRIPCMD:=/bin/true -Not_stripping_since_we_are_debugging
@@ -162,7 +162,7 @@ else
     LDFLAGS += -s -Wl,-warn-common
     STRIPCMD:=$(STRIP) --remove-section=.note --remove-section=.comment
 endif
-ifeq ($(strip $(DOSTATIC)),y)
+ifeq ($(strip $(CONFIG_STATIC)),y)
     LDFLAGS += --static
 endif
 
diff --git a/coreutils/tr.c b/coreutils/tr.c
index a5638d7ec..4e69dc89c 100644
--- a/coreutils/tr.c
+++ b/coreutils/tr.c
@@ -31,7 +31,7 @@
 #include <sys/types.h>
 #include "busybox.h"
 
-/* This must be a #define, since when DODEBUG and BUFFERS_GO_IN_BSS are
+/* This must be a #define, since when CONFIG_DEBUG and BUFFERS_GO_IN_BSS are
  * enabled, we otherwise get a "storage size isn't constant error. */
 #define ASCII 0377
 
diff --git a/debian/config-deb b/debian/config-deb
index 862e06f1f..4d63e690f 100644
--- a/debian/config-deb
+++ b/debian/config-deb
@@ -20,8 +20,8 @@ CONFIG_FEATURE_INSTALLER=y
 #
 # Build Options
 #
-# DOSTATIC is not set
-DOLFS=y
+# CONFIG_STATIC is not set
+CONFIG_LFS=y
 # USING_CROSS_COMPILER is not set
 EXTRA_CFLAGS_OPTIONS=""
 
@@ -362,4 +362,4 @@ CONFIG_FEATURE_MOUNT_LOOP=y
 #
 # Debugging Options
 #
-# DODEBUG is not set
+# CONFIG_DEBUG is not set
diff --git a/debian/config-net-udeb b/debian/config-net-udeb
index 0a7990cf5..b9426a2a3 100644
--- a/debian/config-net-udeb
+++ b/debian/config-net-udeb
@@ -20,8 +20,8 @@ CONFIG_FEATURE_DEVPTS=y
 #
 # Build Options
 #
-# DOSTATIC is not set
-# DOLFS is not set
+# CONFIG_STATIC is not set
+# CONFIG_LFS is not set
 # USING_CROSS_COMPILER is not set
 EXTRA_CFLAGS_OPTIONS=""
 
@@ -366,4 +366,4 @@ CONFIG_UMOUNT=y
 #
 # Debugging Options
 #
-# DODEBUG is not set
+# CONFIG_DEBUG is not set
diff --git a/debian/config-net-udeb-i386 b/debian/config-net-udeb-i386
index d82fabb94..1335bac01 100644
--- a/debian/config-net-udeb-i386
+++ b/debian/config-net-udeb-i386
@@ -20,8 +20,8 @@ CONFIG_FEATURE_DEVPTS=y
 #
 # Build Options
 #
-# DOSTATIC is not set
-DOLFS=y
+# CONFIG_STATIC is not set
+CONFIG_LFS=y
 # USING_CROSS_COMPILER is not set
 EXTRA_CFLAGS_OPTIONS=""
 
@@ -371,4 +371,4 @@ CONFIG_FEATURE_MOUNT_FORCE=y
 #
 # Debugging Options
 #
-# DODEBUG is not set
+# CONFIG_DEBUG is not set
diff --git a/debian/config-static b/debian/config-static
index 082c46da9..454bbf25d 100644
--- a/debian/config-static
+++ b/debian/config-static
@@ -20,8 +20,8 @@ CONFIG_FEATURE_DEVPTS=y
 #
 # Build Options
 #
-DOSTATIC=y
-DOLFS=y
+CONFIG_STATIC=y
+CONFIG_LFS=y
 # USING_CROSS_COMPILER is not set
 EXTRA_CFLAGS_OPTIONS=""
 
@@ -486,4 +486,4 @@ CONFIG_FEATURE_MTAB_FILENAME="/etc/mtab"
 #
 # Debugging Options
 #
-# DODEBUG is not set
+# CONFIG_DEBUG is not set
diff --git a/debian/config-udeb b/debian/config-udeb
index be119aa3e..b78c6a583 100644
--- a/debian/config-udeb
+++ b/debian/config-udeb
@@ -20,8 +20,8 @@ CONFIG_FEATURE_DEVPTS=y
 #
 # Build Options
 #
-# DOSTATIC is not set
-DOLFS=y
+# CONFIG_STATIC is not set
+CONFIG_LFS=y
 # USING_CROSS_COMPILER is not set
 EXTRA_CFLAGS_OPTIONS=""
 
@@ -398,4 +398,4 @@ CONFIG_FEATURE_MOUNT_FORCE=y
 #
 # Debugging Options
 #
-# DODEBUG is not set
+# CONFIG_DEBUG is not set
diff --git a/debian/config-udeb-i386 b/debian/config-udeb-i386
index e12e8c178..72fc4c342 100644
--- a/debian/config-udeb-i386
+++ b/debian/config-udeb-i386
@@ -20,8 +20,8 @@ CONFIG_FEATURE_DEVPTS=y
 #
 # Build Options
 #
-# DOSTATIC is not set
-DOLFS=y
+# CONFIG_STATIC is not set
+CONFIG_LFS=y
 # USING_CROSS_COMPILER is not set
 EXTRA_CFLAGS_OPTIONS=""
 
@@ -410,4 +410,4 @@ CONFIG_FEATURE_MOUNT_FORCE=y
 #
 # Debugging Options
 #
-# DODEBUG is not set
+# CONFIG_DEBUG is not set
diff --git a/debian/rules b/debian/rules
index 47605fa71..82bf9f04a 100755
--- a/debian/rules
+++ b/debian/rules
@@ -11,7 +11,7 @@ DEB_HOST_ARCH ?= $(shell dpkg-architecture -qDEB_HOST_ARCH)
 VERSION = $(shell dpkg-parsechangelog | grep ^Version: | cut -d ' ' -f 2)
 
 ifneq (,$(findstring debug,$(DEB_BUILD_OPTIONS)))
-	DODEBUG = true
+	CONFIG_DEBUG = true
 endif
 ifeq (,$(findstring nostrip,$(DEB_BUILD_OPTIONS)))
 endif
@@ -39,7 +39,7 @@ else
 endif
 
 	$(MAKE) dep
-	$(MAKE) DODEBUG=$(DODEBUG)
+	$(MAKE) CONFIG_DEBUG=$(CONFIG_DEBUG)
 
 	install -d install-$(PACKAGE_PREFIX)/bin
 	install busybox install-$(PACKAGE_PREFIX)/bin/busybox
@@ -57,7 +57,7 @@ else
 endif
 
 	$(MAKE) dep
-	$(MAKE) DODEBUG=$(DODEBUG)
+	$(MAKE) CONFIG_DEBUG=$(CONFIG_DEBUG)
 
 	install -d install-$(PACKAGE_PREFIX)-static/bin
 	install busybox install-$(PACKAGE_PREFIX)-static/bin/busybox
@@ -75,7 +75,7 @@ else
 endif
 
 	$(MAKE) dep
-	$(MAKE) DODEBUG=$(DODEBUG)
+	$(MAKE) CONFIG_DEBUG=$(CONFIG_DEBUG)
 
 	$(MAKE) PREFIX=$(CURDIR)/install-$(PACKAGE_PREFIX)-udeb install
 
@@ -89,7 +89,7 @@ ifneq ($(wildcard ./debian/config-net-udeb-$(DEB_HOST_ARCH)),)
 	cp ./debian/config-net-udeb-$(DEB_HOST_ARCH) .config
 
 	$(MAKE) dep
-	$(MAKE) DODEBUG=$(DODEBUG)
+	$(MAKE) CONFIG_DEBUG=$(CONFIG_DEBUG)
 
 	$(MAKE) PREFIX=$(CURDIR)/install-$(PACKAGE_PREFIX)-net-udeb install
 endif
diff --git a/sysdeps/linux/Config.in b/sysdeps/linux/Config.in
index 4d72cd688..d5adee5d0 100644
--- a/sysdeps/linux/Config.in
+++ b/sysdeps/linux/Config.in
@@ -90,21 +90,39 @@ config CONFIG_FEATURE_SUID
 	bool "Support for SUID/SGID handling"
 	default n
 	help
-	  Please submit a patch to add help text for this item.
+	  Support SUID and SGID binaries.
 
 config CONFIG_FEATURE_SUID_CONFIG
 	bool "Runtime SUID/SGID configuration via /etc/busybox.conf"
 	default y if CONFIG_FEATURE_SUID
 	depends on CONFIG_FEATURE_SUID
 	help
-	  Please submit a patch to add help text for this item.
+	  Allow the SUID / SGID state of an applet to be determinded runtime by
+	  checking /etc/busybox.conf.  The format of this file is as follows:
+
+	  <applet> = [Ssx-][Ssx-][x-] (<username>|<uid>).(<groupname>|<gid>)
+	  
+	  An example might help:
+
+	  [SUID]
+	  su = ssx root.0 # applet su can be run by anyone and runs with euid=0/egid=0
+	  su = ssx        # exactly the same
+
+	  mount = sx- root.disk # applet mount can be run by root and members of group disk
+	                        # and runs with euid=0
+
+	  cp = --- # disable applet cp for everyone
+
+	  Robert 'sandman' Griebl has more information here:
+	  <url: http://www.softforge.de/bb/suid.html >.
 
 config CONFIG_FEATURE_SUID_CONFIG_QUIET
 	bool "Suppress warning message if /etc/busybox.conf is not readable"
 	default n
 	depends on CONFIG_FEATURE_SUID_CONFIG
 	help
-	  Please submit a patch to add help text for this item.
+	  /etc/busybox.conf should be readable by the user needing the SUID, check
+	  this option to avoid users to be notified about missing permissions.
 
 config CONFIG_SELINUX
 	bool "Support NSA Security Enhanced Linux"
@@ -117,14 +135,21 @@ endmenu
 
 menu 'Build Options'
 
-config DOSTATIC
+config CONFIG_STATIC
 	bool "Build BusyBox as a static binary (no shared libs)"
 	default n
 	help
 	  If you want to build a static BusyBox binary, which does not 
 	  use or require any shared libraries, then enable this option.  
+	  This can make BusyBox be considerably larger, so you should
+	  leave this option false unless you have a good reason (i.e.
+	  your target platform does not support shared libraries, or
+	  you are building an initrd which doesn't need anything but
+	  BusyBox, etc).
 
-config DOLFS
+	  Most people will leave this set to 'N'.
+
+config CONFIG_LFS
 	bool "Build with Large File Support (for accessing files > 2 GB)" 
 	default n
 	help
@@ -201,21 +226,7 @@ source util-linux/Config.in
 
 menu 'Debugging Options'
 
-config DOSTATIC
-	bool "Build BusyBox as a static binary (no shared libs)"
-	default n
-	help
-	  If you want to build a static BusyBox binary, which does not 
-	  use or require any shared libraries, then enable this option.  
-	  This will make BusyBox be considerable larger, so you should
-	  leave this option false unless you have a good reason (i.e.
-	  your target platform does not support shared libraries, or
-	  you are building an initrd which doesn't need anything but
-	  BusyBox, etc).
-
-	  Most people will leave this set to 'N'.
-
-config DODEBUG
+config CONFIG_DEBUG
 	bool "Build BusyBox with Debugging symbols"
 	default n
 	help
@@ -227,10 +238,10 @@ config DODEBUG
 
 	  Otherwise, answer N.
 
-config DODMALLOC
+config CONFIG_DMALLOC
 	bool "Build BusyBox with dmalloc support"
 	default n
-	depends on DODEBUG && !DOEFENCE
+	depends on CONFIG_DEBUG && !CONFIG_EFENCE
 	help
 	  This enables compiling with dmalloc ( http://dmalloc.com/ )
 	  which is an excellent public domain mem leak and malloc problem
@@ -245,10 +256,10 @@ config DODMALLOC
 	  This will make BusyBox be considerable larger and run slower, so 
 	  you should leave this option disabled for production use.
 
-config DOEFENCE
+config CONFIG_EFENCE
 	bool "Build BusyBox with Electric-fence support"
 	default n
-	depends on DODEBUG && !DODMALLOC
+	depends on CONFIG_DEBUG && !CONFIG_DMALLOC
 	help
 	  This enables compiling with Electric-fence support.  Electric
 	  fence is another very useful malloc debugging library which used
diff --git a/sysklogd/syslogd.c b/sysklogd/syslogd.c
index 89f8d60ca..67324116d 100644
--- a/sysklogd/syslogd.c
+++ b/sysklogd/syslogd.c
@@ -408,7 +408,7 @@ static void domark(int sig)
 	}
 }
 
-/* This must be a #define, since when DODEBUG and BUFFERS_GO_IN_BSS are
+/* This must be a #define, since when CONFIG_DEBUG and BUFFERS_GO_IN_BSS are
  * enabled, we otherwise get a "storage size isn't constant error. */
 static int serveConnection(char *tmpbuf, int n_read)
 {