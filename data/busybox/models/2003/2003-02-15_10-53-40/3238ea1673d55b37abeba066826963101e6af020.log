"2003-02-15 10:53:40 +0000"
diff --git a/Makefile b/Makefile
index 36fc4118f..48911f77e 100644
--- a/Makefile
+++ b/Makefile
@@ -26,10 +26,10 @@ noconfig_targets := menuconfig config oldconfig randconfig \
 TOPDIR=./
 include Rules.mak
 
-DIRS:=applets archival archival/libunarchive console-tools debianutils \
-	editors fileutils findutils init miscutils modutils networking \
+DIRS:=applets archival archival/libunarchive coreutils console-tools \
+	debianutils editors findutils init miscutils modutils networking \
 	networking/libiproute networking/udhcp procps loginutils shell \
-	shellutils sysklogd textutils util-linux libbb libpwdgrp
+	sysklogd util-linux libbb libpwdgrp
 
 ifeq ($(strip $(HAVE_DOT_CONFIG)),y)
 
diff --git a/coreutils/Config.in b/coreutils/Config.in
new file mode 100644
index 000000000..6ee319a0d
--- /dev/null
+++ b/coreutils/Config.in
@@ -0,0 +1,504 @@
+#
+# For a description of the syntax of this configuration file,
+# see scripts/kbuild/config-language.txt.
+#
+
+menu "Coreutils"
+
+config CONFIG_BASENAME
+	bool "basename"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CAL
+	bool "cal"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CAT
+	bool "cat"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CHGRP
+	bool "chgrp"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CHMOD
+	bool "chmod"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CHOWN
+	bool "chown"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CHROOT
+	bool "chroot"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CMP
+	bool "cmp"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CP
+	bool "cp"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_CUT
+	bool "cut"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+if CONFIG_WATCH
+	config CONFIG_DATE
+		default y
+	comment "date (forced enabled for use with watch)"
+endif
+
+if !CONFIG_WATCH
+    config CONFIG_DATE
+	    bool "date"
+	    default n
+	    help
+	      Please submit a patch to add help text for this item.
+endif
+
+config CONFIG_FEATURE_DATE_ISOFMT
+	bool "  Enable ISO date format output (-I)"
+	default y
+	depends on CONFIG_DATE
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_DD
+	bool "dd"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_DF
+	bool "df"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_DIRNAME
+	bool "dirname"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_DOS2UNIX
+	bool "dos2unix/unix2dos"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_DU
+	bool "du"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_ECHO
+	bool "echo"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_ENV
+	bool "env"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_EXPR
+	bool "expr"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+if CONFIG_HUSH || CONFIG_LASH || CONFIG_MSH
+	config CONFIG_FALSE
+		default y
+	comment "false (forced enabled for use with shell)"
+endif
+
+if !CONFIG_HUSH && !CONFIG_LASH && !CONFIG_MSH
+    config CONFIG_FALSE
+	    bool "false"
+	    default n
+	    help
+	      Please submit a patch to add help text for this item.
+endif
+
+config CONFIG_HEAD
+	bool "head"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_HOSTID
+	bool "hostid"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_ID
+	bool "id"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_LENGTH
+	bool "length"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_LN
+	bool "ln"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_LOGNAME
+	bool "logname"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_LS
+	bool "ls"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_FILETYPES
+	bool "  Enable filetyping options (-p and -F)"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_FOLLOWLINKS
+	bool "  Enable symlinks dereferencing (-L)"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_RECURSIVE
+	bool "  Enable recursion (-R)"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_SORTFILES
+	bool "  Sort the file names"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_TIMESTAMPS
+	bool "  Show file timestamps"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_USERNAME
+	bool "  Show username/groupnames"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_LS_COLOR
+	bool "  Use color to identify file types"
+	default y
+	depends on CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_MD5SUM
+	bool "md5sum"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_MKDIR
+	bool "mkdir"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_MKFIFO
+	bool "mkfifo"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_MKNOD
+	bool "mknod"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_MV
+	bool "mv"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_OD
+	bool "od"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_PRINTF
+	bool "printf"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_PWD
+	bool "pwd"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_REALPATH
+	bool "realpath"
+	default n
+	help
+	  Return the canonicalized absolute pathname.
+	  This isnt provided by GNU shellutils, but where else does it belong.
+
+config CONFIG_RM
+	bool "rm"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_RMDIR
+	bool "rmdir"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_SLEEP
+	bool "sleep"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_SORT
+	bool "sort"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_SORT_REVERSE
+	bool "  Enable reverse sort"
+	default y
+	depends on CONFIG_SORT
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_SORT_UNIQUE
+	bool "  Enable unique sort"
+	default y
+	depends on CONFIG_SORT
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_STTY
+	bool "stty"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_SYNC
+	bool "sync"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_TAIL
+	bool "tail"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_FEATURE_FANCY_TAIL
+	bool "  Enable extra tail options (-c, -q, -s, and -v)"
+	default y
+	depends on CONFIG_TAIL
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_TEE
+	bool "tee"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+if CONFIG_ASH || CONFIG_HUSH || CONFIG_LASH || CONFIG_MSH
+	config CONFIG_TEST
+		default y
+	comment "test (forced enabled for use with shell)"
+endif
+
+if !CONFIG_ASH && !CONFIG_HUSH && !CONFIG_LASH && !CONFIG_MSH
+    config CONFIG_TEST
+	    bool "test"
+	    default n
+	    help
+	      Please submit a patch to add help text for this item.
+endif
+
+config CONFIG_TOUCH
+	bool "touch"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_TR
+	bool "tr"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+if CONFIG_HUSH || CONFIG_LASH || CONFIG_MSH
+	config CONFIG_TRUE
+		default y
+	comment "true (forced enabled for use with shell)"
+endif
+
+if !CONFIG_HUSH && !CONFIG_LASH && !CONFIG_MSH
+    config CONFIG_TRUE
+	    bool "true"
+	    default n
+	    help
+	      Please submit a patch to add help text for this item.
+endif
+
+config CONFIG_TTY
+	bool "tty"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_UNAME
+	bool "uname"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_UNIQ
+	bool "uniq"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_USLEEP
+	bool "usleep"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_UUDECODE
+	bool "uudecode"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_UUENCODE
+	bool "uuencode"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_WATCH
+	bool "watch"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_WC
+	bool "wc"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_WHO
+	bool "who"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_WHOAMI
+	bool "whoami"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+config CONFIG_YES
+	bool "yes"
+	default n
+	help
+	  Please submit a patch to add help text for this item.
+
+
+comment "Common options for cp and mv"
+    depends on CONFIG_CP || CONFIG_MV
+
+config CONFIG_FEATURE_PRESERVE_HARDLINKS
+	bool "  Preserve hard links"
+	default n
+	depends on CONFIG_CP || CONFIG_MV
+	help
+	  Please submit a patch to add help text for this item.
+
+comment "Common options for ls and more"
+    depends on CONFIG_LS || CONFIG_MORE
+
+config CONFIG_FEATURE_AUTOWIDTH
+	bool "  Calculate terminal & column widths"
+	default n
+	depends on CONFIG_LS || CONFIG_MORE
+	help
+	  Please submit a patch to add help text for this item.
+
+
+comment "Common options for df, du, ls"
+    depends on CONFIG_DF || CONFIG_DU || CONFIG_LS
+
+config CONFIG_FEATURE_HUMAN_READABLE
+	bool "  Support for human readable output (example 13k, 23M, 235G)"
+	default n
+	depends on CONFIG_DF || CONFIG_DU || CONFIG_LS
+	help
+	  Please submit a patch to add help text for this item.
+
+endmenu
diff --git a/coreutils/Makefile b/coreutils/Makefile
new file mode 100644
index 000000000..2228c26e8
--- /dev/null
+++ b/coreutils/Makefile
@@ -0,0 +1,30 @@
+# Makefile for busybox
+#
+# Copyright (C) 1999-2002 Erik Andersen <andersee@debian.org>
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+# General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
+#
+
+TOPDIR:= ../
+SHELLUTILS_DIR:=./
+include $(TOPDIR).config
+include $(TOPDIR)Rules.mak
+include Makefile.in
+all: $(libraries-y)
+-include $(TOPDIR).depend
+
+clean:
+	rm -f *.o *.a $(AR_TARGET)
+
diff --git a/coreutils/Makefile.in b/coreutils/Makefile.in
new file mode 100644
index 000000000..78ee307ec
--- /dev/null
+++ b/coreutils/Makefile.in
@@ -0,0 +1,90 @@
+# Makefile for busybox
+#
+# Copyright (C) 1999-2002 Erik Andersen <andersee@debian.org>
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
+# General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
+#
+
+COREUTILS_AR:=coreutils.a
+ifndef $(COREUTILS_DIR)
+COREUTILS_DIR:=$(TOPDIR)coreutils/
+endif
+
+COREUTILS-y:=
+COREUTILS-$(CONFIG_BASENAME)		+= basename.o
+COREUTILS-$(CONFIG_CAL)		+= cal.o
+COREUTILS-$(CONFIG_CAT)		+= cat.o
+COREUTILS-$(CONFIG_CHGRP)	+= chgrp.o
+COREUTILS-$(CONFIG_CHMOD)	+= chmod.o
+COREUTILS-$(CONFIG_CHOWN)	+= chown.o
+COREUTILS-$(CONFIG_CHROOT)		+= chroot.o
+COREUTILS-$(CONFIG_CMP)		+= cmp.o
+COREUTILS-$(CONFIG_CP)		+= cp.o
+COREUTILS-$(CONFIG_CUT)		+= cut.o
+COREUTILS-$(CONFIG_DATE)		+= date.o
+COREUTILS-$(CONFIG_DD)		+= dd.o
+COREUTILS-$(CONFIG_DF)		+= df.o
+COREUTILS-$(CONFIG_DIRNAME)		+= dirname.o
+COREUTILS-$(CONFIG_DOS2UNIX)	+= dos2unix.o
+COREUTILS-$(CONFIG_DU)		+= du.o
+COREUTILS-$(CONFIG_ECHO)		+= echo.o
+COREUTILS-$(CONFIG_ENV)		+= env.o
+COREUTILS-$(CONFIG_EXPR)		+= expr.o
+COREUTILS-$(CONFIG_FALSE)		+= false.o
+COREUTILS-$(CONFIG_HEAD)	+= head.o
+COREUTILS-$(CONFIG_HOSTID)		+= hostid.o
+COREUTILS-$(CONFIG_ID)			+= id.o
+COREUTILS-$(CONFIG_LENGTH)	+= length.o
+COREUTILS-$(CONFIG_LN)		+= ln.o
+COREUTILS-$(CONFIG_LOGNAME)		+= logname.o
+COREUTILS-$(CONFIG_LS)		+= ls.o
+COREUTILS-$(CONFIG_MD5SUM)	+= md5sum.o
+COREUTILS-$(CONFIG_MKDIR)	+= mkdir.o
+COREUTILS-$(CONFIG_MKFIFO)	+= mkfifo.o
+COREUTILS-$(CONFIG_MKNOD)	+= mknod.o
+COREUTILS-$(CONFIG_MV)		+= mv.o
+COREUTILS-$(CONFIG_OD)		+= od.o
+COREUTILS-$(CONFIG_PRINTF)		+= printf.o
+COREUTILS-$(CONFIG_PWD)		+= pwd.o
+COREUTILS-$(CONFIG_REALPATH)		+= realpath.o
+COREUTILS-$(CONFIG_RM)		+= rm.o
+COREUTILS-$(CONFIG_RMDIR)	+= rmdir.o
+COREUTILS-$(CONFIG_SLEEP)		+= sleep.o
+COREUTILS-$(CONFIG_SORT)	+= sort.o
+COREUTILS-$(CONFIG_STTY)		+= stty.o
+COREUTILS-$(CONFIG_SYNC)	+= sync.o
+COREUTILS-$(CONFIG_TAIL)	+= tail.o
+COREUTILS-$(CONFIG_TEE)		+= tee.o
+COREUTILS-$(CONFIG_TEST)		+= test.o
+COREUTILS-$(CONFIG_TOUCH)	+= touch.o
+COREUTILS-$(CONFIG_TR)		+= tr.o
+COREUTILS-$(CONFIG_TRUE)		+= true.o
+COREUTILS-$(CONFIG_TTY)		+= tty.o
+COREUTILS-$(CONFIG_UNAME)		+= uname.o
+COREUTILS-$(CONFIG_UNIQ)	+= uniq.o
+COREUTILS-$(CONFIG_USLEEP)		+= usleep.o
+COREUTILS-$(CONFIG_UUDECODE)	+= uudecode.o
+COREUTILS-$(CONFIG_UUENCODE)	+= uuencode.o
+COREUTILS-$(CONFIG_WATCH)		+= watch.o
+COREUTILS-$(CONFIG_WC)		+= wc.o
+COREUTILS-$(CONFIG_WHO)		+= who.o
+COREUTILS-$(CONFIG_WHOAMI)		+= whoami.o
+COREUTILS-$(CONFIG_YES)		+= yes.o
+
+libraries-y+=$(COREUTILS_DIR)$(COREUTILS_AR)
+
+$(COREUTILS_DIR)$(COREUTILS_AR): $(patsubst %,$(COREUTILS_DIR)%, $(COREUTILS-y))
+	$(AR) -ro $@ $(patsubst %,$(COREUTILS_DIR)%, $(COREUTILS-y))
+
diff --git a/sysdeps/linux/Config.in b/sysdeps/linux/Config.in
index 211ef46f6..70dd2ca5e 100644
--- a/sysdeps/linux/Config.in
+++ b/sysdeps/linux/Config.in
@@ -177,10 +177,10 @@ config PREFIX
 endmenu
 
 source archival/Config.in
+source coreutils/Config.in
 source console-tools/Config.in
 source debianutils/Config.in
 source editors/Config.in
-source fileutils/Config.in
 source findutils/Config.in
 source init/Config.in
 source loginutils/Config.in
@@ -189,9 +189,7 @@ source modutils/Config.in
 source networking/Config.in
 source procps/Config.in
 source shell/Config.in
-source shellutils/Config.in
 source sysklogd/Config.in
-source textutils/Config.in
 source util-linux/Config.in
 
 menu 'Debugging Options'