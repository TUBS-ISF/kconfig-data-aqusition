"2006-03-10 23:20:48 +0000"
diff --git a/Config.in b/Config.in
index f8a039915..6c9e0c5de 100644
--- a/Config.in
+++ b/Config.in
@@ -318,6 +318,13 @@ config CONFIG_EFENCE
 
 endchoice
 
+config CONFIG_STRIP_BINARIES
+	bool "Strip busybox objects"
+	default y if !CONFIG_DEBUG
+	default n if CONFIG_DEBUG
+	help
+	  Whether or not we strip the busybox binary and such.
+
 config CONFIG_DEBUG_YANK_SUSv2
 	bool "Disable obsolete features removed before SUSv3?"
 	default y
diff --git a/Rules.mak b/Rules.mak
index 77435e3bd..031b41ee5 100644
--- a/Rules.mak
+++ b/Rules.mak
@@ -238,10 +238,13 @@ endif
 LDFLAGS+=$(if $(call is_eq,$(CONFIG_DEBUG),y),$(call check_ld,LDFLAGS,--warn-common,)$(call check_ld,LDFLAGS,--sort-common,))
 ifeq ($(CONFIG_DEBUG),y)
     CFLAGS  +=$(WARNINGS) -g -D_GNU_SOURCE
-    STRIPCMD:=/bin/true -Not_stripping_since_we_are_debugging
 else
     CFLAGS+=$(WARNINGS) $(OPTIMIZATIONS) -D_GNU_SOURCE -DNDEBUG
+endif
+ifeq ($(CONFIG_STRIP_BINARIES),y)
     STRIPCMD:=$(STRIP) -s --remove-section=.note --remove-section=.comment
+else
+    STRIPCMD:=/bin/true -Not_stripping_since_we_are_debugging
 endif
 PROG_CFLAGS+=$(if $(call is_eq,$(CONFIG_STATIC),y),\
     $(call check_gcc,PROG_CFLAGS,-static,))