"2004-05-25 11:30:22 +0000"
diff --git a/sysdeps/linux/Config.in b/sysdeps/linux/Config.in
index d288cc58c..744a84d18 100644
--- a/sysdeps/linux/Config.in
+++ b/sysdeps/linux/Config.in
@@ -160,6 +160,7 @@ config CONFIG_STATIC
 config CONFIG_LFS
 	bool "Build with Large File Support (for accessing files > 2 GB)"
 	default n
+	select FDISK_SUPPORT_LARGE_DISKS
 	help
 	  If you want to build BusyBox with large file support, then enable
 	  this option.  This will have no effect if your kernel or your C
@@ -244,13 +245,19 @@ config CONFIG_DEBUG
 	  considerably and should only be used when doing development.
 	  If you are doing development and want to debug BusyBox, answer Y.
 
-	  Otherwise, answer N.
+	  Most people should answer N.
 
-config CONFIG_DMALLOC
-	bool "Build BusyBox with dmalloc support"
-	default n
-	depends on CONFIG_DEBUG && !CONFIG_EFENCE
+choice
+	prompt "Additional debugging library"
+	default CONFIG_NO_DEBUG_LIB
+	depends on CONFIG_DEBUG
 	help
+	  Using an additional debugging library will make BusyBox become
+	  considerable larger and will cause it to run more slowly.  You
+	  should always leave this option disabled for production use.
+
+	  dmalloc support:
+	  ----------------
 	  This enables compiling with dmalloc ( http://dmalloc.com/ )
 	  which is an excellent public domain mem leak and malloc problem
 	  detector.  To enable dmalloc, before running busybox you will
@@ -261,14 +268,8 @@ config CONFIG_DMALLOC
 	       -p check-fence -p check-heap -p check-lists -p check-blank \
 	       -p check-funcs -p realloc-copy -p allow-free-null
 
-	  This will make BusyBox be considerable larger and run slower, so
-	  you should leave this option disabled for production use.
-
-config CONFIG_EFENCE
-	bool "Build BusyBox with Electric-fence support"
-	default n
-	depends on CONFIG_DEBUG && !CONFIG_DMALLOC
-	help
+	  Electric-fence support:
+	  -----------------------
 	  This enables compiling with Electric-fence support.  Electric
 	  fence is another very useful malloc debugging library which uses
 	  your computer's virtual memory hardware to detect illegal memory
@@ -276,5 +277,18 @@ config CONFIG_EFENCE
 	  and run slower, so you should leave this option disabled unless
 	  you are hunting a hard to find memory problem.
 
+
+config CONFIG_NO_DEBUG_LIB
+	bool "None"
+
+config CONFIG_DMALLOC
+	bool "Dmalloc"
+
+config CONFIG_EFENCE
+	bool "Electric-fence"
+
+endchoice
+
+
 endmenu
 