"2018-02-09 09:07:50 +0100"
diff --git a/src/kern/arm/bsp/zynq/Kconfig b/src/kern/arm/bsp/zynq/Kconfig
index 269e3ce..744bb20 100644
--- a/src/kern/arm/bsp/zynq/Kconfig
+++ b/src/kern/arm/bsp/zynq/Kconfig
@@ -2,20 +2,3 @@
 # PFDESCR: Xilinx Zynq
 # PFSELECT: CAN_ARM_CPU_CORTEX_A9 CAN_ARM_CACHE_L2CXX0
 # PFDEPENDS: ARM
-
-choice
-        prompt "UART"
-        default PF_ZYNQ_UART_NR_0
-
-config PF_ZYNQ_UART_NR_0
-        bool "Use UART 0"
-
-config PF_ZYNQ_UART_NR_1
-        bool "Use UART 1"
-
-endchoice
-
-config PF_ZYNQ_UART_NR
-        int
-        default 0 if PF_ZYNQ_UART_NR_0
-        default 1 if PF_ZYNQ_UART_NR_1
diff --git a/src/kern/arm/bsp/zynq/mem_layout-arm-zynq.cpp b/src/kern/arm/bsp/zynq/mem_layout-arm-zynq.cpp
index 34cb449..08057e0 100644
--- a/src/kern/arm/bsp/zynq/mem_layout-arm-zynq.cpp
+++ b/src/kern/arm/bsp/zynq/mem_layout-arm-zynq.cpp
@@ -4,7 +4,6 @@ EXTENSION class Mem_layout
 {
 public:
   enum Phys_layout_zynq : Address {
-    Uart_phys_base       = 0xe0000000 + 0x1000 * CONFIG_PF_ZYNQ_UART_NR,
     Mp_scu_phys_base     = 0xf8f00000,
     Gic_cpu_phys_base    = 0xf8f00100,
     Gic_dist_phys_base   = 0xf8f01000,
diff --git a/src/kern/arm/bsp/zynq/uart-arm-zynq.cpp b/src/kern/arm/bsp/zynq/uart-arm-zynq.cpp
index aa88974..fca72d5 100644
--- a/src/kern/arm/bsp/zynq/uart-arm-zynq.cpp
+++ b/src/kern/arm/bsp/zynq/uart-arm-zynq.cpp
@@ -1,19 +1,13 @@
 IMPLEMENTATION [pf_zynq]:
 
+#include "koptions.h"
 #include "uart_cadence.h"
-#include "mem_layout.h"
 
-IMPLEMENT Address Uart::base() const { return Mem_layout::Uart_phys_base; }
+IMPLEMENT Address Uart::base() const
+{ return Koptions::o()->uart.base_address; }
 
 IMPLEMENT int Uart::irq() const
-{
-  switch (CONFIG_PF_ZYNQ_UART_NR)
-    {
-    case 0: return 59;
-    default:
-    case 1: return 82;
-    };
-}
+{ return Koptions::o()->uart.irqno; }
 
 IMPLEMENT L4::Uart *Uart::uart()
 {