"2018-02-09 09:07:51 +0100"
diff --git a/src/kern/arm/bsp/layerscape/Kconfig b/src/kern/arm/bsp/layerscape/Kconfig
new file mode 100644
index 0000000..77402ee
--- /dev/null
+++ b/src/kern/arm/bsp/layerscape/Kconfig
@@ -0,0 +1,14 @@
+# PF: LAYERSCAPE
+# PFDESCR: NXP/Freescale Layerscape
+# PFSELECT: HAS_CPU_VIRT HAS_ARM_PSCI
+# PFDEPENDS: ARM
+
+choice
+	prompt "Layerscape variant"
+	default PF_LS1021A
+
+config PF_LS1021A
+	bool "LS1021A"
+	select CAN_ARM_CPU_CORTEX_A7
+
+endchoice
diff --git a/src/kern/arm/bsp/ls1021a/Modules b/src/kern/arm/bsp/layerscape/Modules
similarity index 57%
rename from src/kern/arm/bsp/ls1021a/Modules
rename to src/kern/arm/bsp/layerscape/Modules
index d40606d..0a4c04d 100644
--- a/src/kern/arm/bsp/ls1021a/Modules
+++ b/src/kern/arm/bsp/layerscape/Modules
@@ -9,13 +9,13 @@ OBJECTS_LIBUART         += uart_16550.o
 SUBSYSTEMS              += LIBUART
 
 uart_IMPL              = uart uart-16550
-config_IMPL           += config-arm-ls1021a
-mem_layout_IMPL       += mem_layout-arm-ls1021a
-pic_IMPL              += pic-gic pic-arm-ls1021a
-gic_IMPL              += gic gic-arm-ls1021a
-timer_IMPL            += timer-arm-generic timer-arm-generic-ls1021a
+config_IMPL           += config-arm-layerscape
+mem_layout_IMPL       += mem_layout-arm-layerscape
+pic_IMPL              += pic-gic pic-arm-layerscape
+gic_IMPL              += gic gic-arm-layerscape
+timer_IMPL            += timer-arm-generic timer-arm-generic-layerscape
 timer_tick_IMPL       += timer_tick-single-vector
 kernel_uart_IMPL      += kernel_uart-libuart
-reset_IMPL            += reset-arm-ls1021a
+reset_IMPL            += reset-arm-layerscape
 clock_IMPL            += clock-generic
-platform_control_IMPL += platform_control-arm-ls1021a
+platform_control_IMPL += platform_control-arm-layerscape
diff --git a/src/kern/arm/bsp/ls1021a/config-arm-ls1021a.cpp b/src/kern/arm/bsp/layerscape/config-arm-layerscape.cpp
similarity index 100%
rename from src/kern/arm/bsp/ls1021a/config-arm-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/config-arm-layerscape.cpp
diff --git a/src/kern/arm/bsp/ls1021a/gic-arm-ls1021a.cpp b/src/kern/arm/bsp/layerscape/gic-arm-layerscape.cpp
similarity index 82%
rename from src/kern/arm/bsp/ls1021a/gic-arm-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/gic-arm-layerscape.cpp
index 7ff9d1f..93f452b 100644
--- a/src/kern/arm/bsp/ls1021a/gic-arm-ls1021a.cpp
+++ b/src/kern/arm/bsp/layerscape/gic-arm-layerscape.cpp
@@ -1,4 +1,4 @@
-IMPLEMENTATION [arm && pic_gic && pf_ls1021a]:
+IMPLEMENTATION [arm && pic_gic && pf_layerscape]:
 
 IMPLEMENT_OVERRIDE inline
 Unsigned32 Gic::pcpu_to_sgi(Cpu_phys_id cpu)
diff --git a/src/kern/arm/bsp/ls1021a/mem_layout-arm-ls1021a.cpp b/src/kern/arm/bsp/layerscape/mem_layout-arm-layerscape.cpp
similarity index 63%
rename from src/kern/arm/bsp/ls1021a/mem_layout-arm-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/mem_layout-arm-layerscape.cpp
index c1125ae..c83e509 100644
--- a/src/kern/arm/bsp/ls1021a/mem_layout-arm-ls1021a.cpp
+++ b/src/kern/arm/bsp/layerscape/mem_layout-arm-layerscape.cpp
@@ -1,9 +1,9 @@
-INTERFACE [arm && pf_ls1021a]: //------------------------------------------
+INTERFACE [arm && pf_layerscape]: //------------------------------------------
 
 EXTENSION class Mem_layout
 {
 public:
-  enum Phys_layout_ls1021a : Address
+  enum Phys_layout_layerscape : Address
   {
     Gic_dist_phys_base   = 0x01401000,
     Gic_cpu_phys_base    = 0x01402000,
diff --git a/src/kern/arm/bsp/ls1021a/pic-arm-ls1021a.cpp b/src/kern/arm/bsp/layerscape/pic-arm-layerscape.cpp
similarity index 80%
rename from src/kern/arm/bsp/ls1021a/pic-arm-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/pic-arm-layerscape.cpp
index 0183694..aee4adb 100644
--- a/src/kern/arm/bsp/ls1021a/pic-arm-ls1021a.cpp
+++ b/src/kern/arm/bsp/layerscape/pic-arm-layerscape.cpp
@@ -1,10 +1,10 @@
-INTERFACE [arm && pic_gic && pf_ls1021a]:
+INTERFACE [arm && pic_gic && pf_layerscape]:
 
 #include "gic.h"
 #include "initcalls.h"
 
 // ------------------------------------------------------------------------
-IMPLEMENTATION [arm && pic_gic && pf_ls1021a]:
+IMPLEMENTATION [arm && pic_gic && pf_layerscape]:
 
 #include "irq_mgr_multi_chip.h"
 #include "kmem.h"
@@ -25,7 +25,7 @@ Pic::init()
 }
 
 // ------------------------------------------------------------------------
-IMPLEMENTATION [arm && pic_gic && mp && pf_ls1021a]:
+IMPLEMENTATION [arm && pic_gic && mp && pf_layerscape]:
 
 PUBLIC static
 void Pic::init_ap(Cpu_number, bool resume)
diff --git a/src/kern/arm/bsp/ls1021a/platform_control-arm-ls1021a.cpp b/src/kern/arm/bsp/layerscape/platform_control-arm-layerscape.cpp
similarity index 81%
rename from src/kern/arm/bsp/ls1021a/platform_control-arm-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/platform_control-arm-layerscape.cpp
index 9cecfbf..87d4e77 100644
--- a/src/kern/arm/bsp/ls1021a/platform_control-arm-ls1021a.cpp
+++ b/src/kern/arm/bsp/layerscape/platform_control-arm-layerscape.cpp
@@ -1,4 +1,4 @@
-IMPLEMENTATION [arm && mp && pf_ls1021a && !arm_psci]: // -----------------
+IMPLEMENTATION [arm && mp && pf_layerscape && !arm_psci]: // -------------
 
 #include "ipi.h"
 #include "mem.h"
@@ -16,7 +16,7 @@ Platform_control::boot_ap_cpus(Address phys_tramp_mp_addr)
   Ipi::bcast(Ipi::Global_request, Cpu_number::boot_cpu());
 }
 
-IMPLEMENTATION [arm && mp && pf_ls1021a && arm_psci]: // -------------------
+IMPLEMENTATION [arm && mp && pf_layerscape && arm_psci]: // ---------------
 
 PUBLIC static
 void
diff --git a/src/kern/arm/bsp/ls1021a/reset-arm-ls1021a.cpp b/src/kern/arm/bsp/layerscape/reset-arm-layerscape.cpp
similarity index 85%
rename from src/kern/arm/bsp/ls1021a/reset-arm-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/reset-arm-layerscape.cpp
index 5953cd5..e2ac905 100644
--- a/src/kern/arm/bsp/ls1021a/reset-arm-ls1021a.cpp
+++ b/src/kern/arm/bsp/layerscape/reset-arm-layerscape.cpp
@@ -1,4 +1,4 @@
-IMPLEMENTATION [arm && pf_ls1021a]:
+IMPLEMENTATION [arm && pf_layerscape]:
 
 #include "io.h"
 #include "kmem.h"
diff --git a/src/kern/arm/bsp/ls1021a/timer-arm-generic-ls1021a.cpp b/src/kern/arm/bsp/layerscape/timer-arm-generic-layerscape.cpp
similarity index 84%
rename from src/kern/arm/bsp/ls1021a/timer-arm-generic-ls1021a.cpp
rename to src/kern/arm/bsp/layerscape/timer-arm-generic-layerscape.cpp
index 7ffafe3..bddaa3d 100644
--- a/src/kern/arm/bsp/ls1021a/timer-arm-generic-ls1021a.cpp
+++ b/src/kern/arm/bsp/layerscape/timer-arm-generic-layerscape.cpp
@@ -1,5 +1,5 @@
 // ------------------------------------------------------------------------
-IMPLEMENTATION [arm && pf_ls1021a && arm_generic_timer]:
+IMPLEMENTATION [arm && pf_layerscape && arm_generic_timer]:
 
 PUBLIC static
 unsigned Timer::irq()
diff --git a/src/kern/arm/bsp/ls1021a/Kconfig b/src/kern/arm/bsp/ls1021a/Kconfig
deleted file mode 100644
index 8b0cf80..0000000
--- a/src/kern/arm/bsp/ls1021a/Kconfig
+++ /dev/null
@@ -1,4 +0,0 @@
-# PF: LS1021A
-# PFDESCR: NXP/Freescale Layerscape LS1021A
-# PFSELECT: CAN_ARM_CPU_CORTEX_A7 HAS_CPU_VIRT HAS_ARM_PSCI
-# PFDEPENDS: ARM
diff --git a/src/templates/globalconfig.out.arm-layerscape b/src/templates/globalconfig.out.arm-layerscape
new file mode 100644
index 0000000..123f69c
--- /dev/null
+++ b/src/templates/globalconfig.out.arm-layerscape
@@ -0,0 +1,2 @@
+CONFIG_ARM=y
+CONFIG_PF_LAYERSCAPE=y
diff --git a/src/templates/globalconfig.out.arm-ls1021a b/src/templates/globalconfig.out.arm-ls1021a
deleted file mode 100644
index 4bea44d..0000000
--- a/src/templates/globalconfig.out.arm-ls1021a
+++ /dev/null
@@ -1,2 +0,0 @@
-CONFIG_ARM=y
-CONFIG_PF_LS1021A=y