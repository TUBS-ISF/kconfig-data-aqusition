"2018-02-09 09:07:48 +0100"
diff --git a/src/Kconfig b/src/Kconfig
index fdc0953..3f4f381 100644
--- a/src/Kconfig
+++ b/src/Kconfig
@@ -540,7 +540,7 @@ config EXPERIMENTAL
 	  Use with caution!
 
 config PERF_CNT
-	def_bool y if JDB && (IA32 || AMD64 || ARM || ARM64)
+	def_bool y if JDB && (IA32 || AMD64 || ARM || ARM64 || MIPS)
 
 config BIT32
 	bool
diff --git a/src/kern/mips/perf_cnt-mips.cpp b/src/kern/mips/perf_cnt-mips.cpp
index 515ce85..90d13aa 100644
--- a/src/kern/mips/perf_cnt-mips.cpp
+++ b/src/kern/mips/perf_cnt-mips.cpp
@@ -259,7 +259,7 @@ Perf_cnt::write_ctl(Ctl_reg const &v, unsigned num)
 }
 
 PRIVATE static inline
-Ctl_reg
+Perf_cnt::Ctl_reg
 Perf_cnt::read_ctl(unsigned num)
 {
   switch (num)
@@ -282,7 +282,7 @@ Perf_cnt::setup_pmc(Mword slot, Mword event, Mword user, Mword kern, Mword)
   if (slot >= 2)
     return 0; // P5600 requirement for 2 perf pairs
 
-  Ctl_reg v;
+  Ctl_reg v(0);
   v.exl()   = kern;
   v.k()     = kern;
   v.s()     = kern;