"2018-02-09 09:07:45 +0100"
diff --git a/src/Kconfig b/src/Kconfig
index c097c10..fdc0953 100644
--- a/src/Kconfig
+++ b/src/Kconfig
@@ -103,129 +103,6 @@ endchoice
 config ABI_VF
 	def_bool y
 
-choice
-	prompt "CPU"
-	depends on IA32 || AMD64 || UX
-	default IA32_686   if IA32
-	default AMD64_K8   if AMD64
-
-config IA32_486
-	bool "Intel 80486"
-	depends on IA32
-	help
-	  Choose this if you have an Intel 80486 or equivalent CPU (i486).
-
-config IA32_586
-	bool "Intel Pentium / AMD K5"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Pentium or compatible i586 CPU.
-
-config IA32_686
-	bool "Intel Pentium Pro"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Pentium Pro or compatible i686 CPU.
-
-config IA32_P2
-	bool "Intel Pentium II / Celeron II"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Pentium II or Pentium II based Celeron.
-
-config IA32_P3
-	bool "Intel Pentium III / Celeron III"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Pentium III or Pentium III based Celeron.
-
-config IA32_P4
-	bool "Intel Pentium 4 / Celeron 4"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Pentium 4 or Pentium 4 based Celeron.
-
-config IA32_PM
-	bool "Intel Pentium M"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Pentium M.
-
-config IA32_CORE2
-	bool "Intel Core 2"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Core 2.
-
-config IA32_CORE_I
-        bool "Intel Core-i"
-	depends on IA32
-	help
-	  Choose this if you want to optimize for Core-i class CPUs.
-
-config IA32_ATOM
-	bool "Intel Atom"
-	depends on IA32
-	help
-	  Choose this if you have an Intel Atom.
-
-config IA32_K6
-	bool "AMD K6 / K6-II / K6-III"
-	depends on IA32
-	help
-	  Choose this if you have an AMD K6 CPU.
-
-config IA32_K7
-	bool "AMD Athlon / Duron"
-	depends on IA32
-	help
-	  Choose this if you have an AMD Athlon or Duron CPU.
-
-config IA32_K8
-	bool "AMD Opteron / Athlon64"
-	depends on IA32
-	help
-	  Choose this if you have an AMD Opteron or Athlon64 CPU.
-
-config IA32_K10
-	bool "AMD Barcelona (K10)"
-	depends on IA32
-	help
-	  Choose this if you have an AMD Barcelona based CPU.
-
-
-config AMD64_K8
-	bool "AMD Opteron / Athlon64"
-	depends on AMD64
-	help
-	  Choose this if you have an AMD Opteron or Athlon64 CPU.
-
-config AMD64_CORE2
-	bool "Intel Core 2"
-	depends on AMD64
-	help
-	  Choose this if you have an Intel Core 2.
-
-config AMD64_CORE_I
-        bool "Intel Core-i"
-	depends on AMD64
-	help
-	  Choose this if you want to optimize for Core-i class CPUs.
-
-config AMD64_ATOM
-	bool "Intel Atom"
-	depends on AMD64
-	help
-	  Choose this if you have an Intel Atom.
-
-config AMD64_K10
-	bool "AMD Barcelona (K10)"
-	depends on AMD64
-	help
-	  Choose this if you have an AMD Barcelona based CPU.
-
-endchoice
-
 # PF_SECTION: CPU
 
 config CPU_VIRT
@@ -684,22 +561,6 @@ config XARCH
 	default "ia32" if IA32 && PF_PC
 # ARCH_NAME
 
-config IA32_TARGET
-	string
-	default "Intel 80486" if IA32_486
-	default "Intel Pentium" if IA32_586
-	default "Intel Pentium Pro" if IA32_686
-	default "Intel Pentium II" if IA32_P2
-	default "Intel Pentium III" if IA32_P3
-	default "Intel Pentium 4" if IA32_P4
-	default "Pentium M" if IA32_PM
-	default "AMD K6" if IA32_K6
-	default "AMD Athlon" if IA32_K7
-	default "Intel Core2" if IA32_CORE2 || AMD64_CORE2
-	default "Intel Core-i" if IA32_CORE_I || AMD64_CORE_I
-	default "Intel Atom" if IA32_ATOM || AMD64_ATOM
-	default "AMD Opteron" if IA32_K8 || AMD64_K8 || AMD64_K10 || IA32_K10
-
 config ABI
 	string
 	default "vf"
diff --git a/src/Makeconf.amd64 b/src/Makeconf.amd64
index b190849..b421bcf 100644
--- a/src/Makeconf.amd64
+++ b/src/Makeconf.amd64
@@ -14,10 +14,6 @@ SHARED_FLAGS            += -m64 -mcmodel=kernel -mno-red-zone -funit-at-a-time
 OPT_CFLAGS		+= -mno-red-zone -funit-at-a-time
 OPT_CXXFLAGS		+= -mno-red-zone -funit-at-a-time
 
-SHARED_FLAGS-$(CONFIG_AMD64_CORE2) += $(call CHECKCC,-march=core2,)
-SHARED_FLAGS-$(CONFIG_AMD64_CORE_I)+= $(call CHECKCC,-march=corei7,)
-SHARED_FLAGS-$(CONFIG_AMD64_ATOM)  += $(call CHECKCC,-march=atom,)
-SHARED_FLAGS-$(CONFIG_AMD64_K8)    += $(call CHECKCC,-march=k8,)
 SHARED_FLAGS                       += $(call CHECKCC,-mno-mmx,)
 SHARED_FLAGS                       += $(call CHECKCC,-mno-sse,)
 SHARED_FLAGS                       += $(call CHECKCC,-mno-sse2,)
diff --git a/src/Makeconf.ia32 b/src/Makeconf.ia32
index fcd1a16..0830833 100644
--- a/src/Makeconf.ia32
+++ b/src/Makeconf.ia32
@@ -12,25 +12,6 @@ SHARED_FLAGS-gcc        += -mpreferred-stack-boundary=2
 SHARED_FLAGS            += -m32
 
 SHARED_FLAGS-$(CONFIG_REGPARM3)   += -mregparm=3
-SHARED_FLAGS-$(CONFIG_IA32_486)	  += -march=i486
-SHARED_FLAGS-$(CONFIG_IA32_586)	  += -march=i586
-SHARED_FLAGS-$(CONFIG_IA32_686)	  += -march=i686
-SHARED_FLAGS-$(CONFIG_IA32_P2)	  += -march=i686 $(call CHECKCC,-mtune=pentium2,\
-                                                   $(call CHECKCC,-mcpu=pentium2))
-SHARED_FLAGS-$(CONFIG_IA32_P3)    += -march=i686 $(call CHECKCC,-mtune=pentium3,\
-                                                   $(call CHECKCC,-mcpu=pentium3))
-SHARED_FLAGS-$(CONFIG_IA32_P4)    += -march=i686 $(call CHECKCC,-mtune=pentium4,\
-                                                   $(call CHECKCC,-mcpu=pentium4))
-SHARED_FLAGS-$(CONFIG_IA32_PM)    += -march=i686 $(call CHECKCC,-mtune=pentium-m,\
-                                                   $(call CHECKCC,-mcpu=pentiumm))
-SHARED_FLAGS-$(CONFIG_IA32_CORE2) += $(call CHECKCC,-march=core2,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_CORE_I)+= $(call CHECKCC,-march=corei7,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_ATOM)  += $(call CHECKCC,-march=atom,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_K6)    += $(call CHECKCC,-march=k6,-march=i586)
-SHARED_FLAGS-$(CONFIG_IA32_K7)    += $(call CHECKCC,-march=athlon,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_K8)    += $(call CHECKCC,-march=k8,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_K10)   += $(call CHECKCC,-march=barcelona,-march=i686)
-
 SHARED_FLAGS                      += $(call CHECKCC,-mno-mmx,)
 SHARED_FLAGS                      += $(call CHECKCC,-mno-sse,)
 SHARED_FLAGS                      += $(call CHECKCC,-mno-sse2,)
diff --git a/src/Makeconf.ux b/src/Makeconf.ux
index 63bd64e..ba25806 100644
--- a/src/Makeconf.ux
+++ b/src/Makeconf.ux
@@ -14,16 +14,6 @@ L4STD_INCDIR		:= -include $(srcdir)/kern/ux/format.h
 L4STD_INCDIR_LAST	:=
 CPPFLAGS		+= -D_GNU_SOURCE
 
-SHARED_FLAGS-$(CONFIG_IA32_486) += -march=i486
-SHARED_FLAGS-$(CONFIG_IA32_586) += -march=i586
-SHARED_FLAGS-$(CONFIG_IA32_686) += -march=i686
-SHARED_FLAGS-$(CONFIG_IA32_P2)  += $(call CHECKCC,-march=pentium2,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_P3)  += $(call CHECKCC,-march=pentium3,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_P4)  += $(call CHECKCC,-march=pentium4,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_K6)  += $(call CHECKCC,-march=k6,-march=i586)
-SHARED_FLAGS-$(CONFIG_IA32_K7)  += $(call CHECKCC,-march=athlon,-march=i686)
-SHARED_FLAGS-$(CONFIG_IA32_K8)  += $(call CHECKCC,-march=k8,-march=i686)
-
 SHARED_FLAGS                    += $(call CHECKCC,-mno-mmx,)
 SHARED_FLAGS                    += $(call CHECKCC,-mno-sse,)
 SHARED_FLAGS                    += $(call CHECKCC,-mno-sse2,)
diff --git a/src/README.style b/src/README.style
index dbc8224..7c30936 100644
--- a/src/README.style
+++ b/src/README.style
@@ -411,7 +411,7 @@ In particular, the conventions are as follows:
 
 * Preprocessor-symbol identifiers are all-uppercase and start with a
   letter.  As with all other identifiers, multiple words are separated
-  using underscores.  Examples: 'THREAD_BLOCK_SIZE', 'CONFIG_IA32_486'
+  using underscores.  Examples: 'THREAD_BLOCK_SIZE', 'CONFIG_PF_PC'
 
   Please note that preprocessor constants are deprecated and allowed
   only in assembly files and header files meant to be included in
diff --git a/src/kern/config.cpp b/src/kern/config.cpp
index 8a9e880..cdfbbb2 100644
--- a/src/kern/config.cpp
+++ b/src/kern/config.cpp
@@ -121,13 +121,13 @@ public:
 #define GREETING_COLOR_ANSI_INFO   "\033[0;32m"
 
 INTERFACE[ia32]:
-#define TARGET_NAME CONFIG_IA32_TARGET
+#define TARGET_NAME "x86-32"
 
 INTERFACE[ux]:
-#define TARGET_NAME CONFIG_IA32_TARGET
+#define TARGET_NAME "ux-x86-32"
 
 INTERFACE[amd64]:
-#define TARGET_NAME CONFIG_IA32_TARGET
+#define TARGET_NAME "x86-64"
 
 INTERFACE:
 
diff --git a/src/templates/globalconfig.out.amd64-mp b/src/templates/globalconfig.out.amd64-mp
index ebb82ed..ff62c6b 100644
--- a/src/templates/globalconfig.out.amd64-mp
+++ b/src/templates/globalconfig.out.amd64-mp
@@ -1,5 +1,4 @@
 CONFIG_AMD64=y
-CONFIG_AMD64_CORE_I=y
 CONFIG_CPU_VIRT=y
 CONFIG_MP=y
 CONFIG_SCHED_WFQ=y
diff --git a/src/templates/globalconfig.out.ia32-1 b/src/templates/globalconfig.out.ia32-1
index 9891e14..6534246 100644
--- a/src/templates/globalconfig.out.ia32-1
+++ b/src/templates/globalconfig.out.ia32-1
@@ -1,2 +1 @@
-CONFIG_IA32_586=y
 # CONFIG_NO_FRAME_PTR is not set
diff --git a/src/templates/globalconfig.out.ia32-2 b/src/templates/globalconfig.out.ia32-2
index 94038b1..91ebb31 100644
--- a/src/templates/globalconfig.out.ia32-2
+++ b/src/templates/globalconfig.out.ia32-2
@@ -1,3 +1,2 @@
-CONFIG_IA32_586=y
 CONFIG_SCHED_PIT=y
 CONFIG_EXPERIMENTAL=y
diff --git a/src/templates/globalconfig.out.ia32-3-noinl b/src/templates/globalconfig.out.ia32-3-noinl
index 1c002b6..901c5bc 100644
--- a/src/templates/globalconfig.out.ia32-3-noinl
+++ b/src/templates/globalconfig.out.ia32-3-noinl
@@ -1,3 +1,2 @@
-CONFIG_IA32_586=y
 # CONFIG_INLINE is not set
 # CONFIG_NO_FRAME_PTR is not set
diff --git a/src/templates/globalconfig.out.ia32-big b/src/templates/globalconfig.out.ia32-big
index a9ee8cd..8d5b835 100644
--- a/src/templates/globalconfig.out.ia32-big
+++ b/src/templates/globalconfig.out.ia32-big
@@ -1,4 +1,3 @@
-CONFIG_IA32_586=y
 CONFIG_CPU_VIRT=y
 CONFIG_WORKAROUND_AMD_FPU_LEAK=y
 CONFIG_SYNC_TSC=y
diff --git a/src/templates/globalconfig.out.ia32-mp b/src/templates/globalconfig.out.ia32-mp
index b2a33dd..eb8d3b0 100644
--- a/src/templates/globalconfig.out.ia32-mp
+++ b/src/templates/globalconfig.out.ia32-mp
@@ -1,3 +1,2 @@
-CONFIG_IA32_586=y
 CONFIG_MP=y
 CONFIG_EXPERIMENTAL=y
diff --git a/src/templates/globalconfig.out.ia32-ndebug b/src/templates/globalconfig.out.ia32-ndebug
index 6049533..89e8d90 100644
--- a/src/templates/globalconfig.out.ia32-ndebug
+++ b/src/templates/globalconfig.out.ia32-ndebug
@@ -1,4 +1,3 @@
-CONFIG_IA32_PM=y
 CONFIG_NDEBUG=y
 # CONFIG_JDB is not set
 CONFIG_EXPERIMENTAL=y
diff --git a/src/templates/globalconfig.out.mips-malta-64r2-mp b/src/templates/globalconfig.out.mips-malta-64r2-mp
index 2d0ae07..1d8a6c9 100644
--- a/src/templates/globalconfig.out.mips-malta-64r2-mp
+++ b/src/templates/globalconfig.out.mips-malta-64r2-mp
@@ -1,6 +1,6 @@
 CONFIG_MIPS=y
-CONFIG_CPU_MIPS64_R2=y
 CONFIG_PF_MALTA_MP=y
+CONFIG_CPU_MIPS64_R2=y
 CONFIG_MP=y
 CONFIG_JDB_ACCOUNTING=y
 CONFIG_EXPERIMENTAL=y
diff --git a/src/templates/globalconfig.out.ux-1 b/src/templates/globalconfig.out.ux-1
index 25a6de9..37591fa 100644
--- a/src/templates/globalconfig.out.ux-1
+++ b/src/templates/globalconfig.out.ux-1
@@ -1,4 +1,3 @@
 CONFIG_PF_UX=y
-CONFIG_IA32_586=y
 # CONFIG_NO_FRAME_PTR is not set
 # CONFIG_JDB_GZIP is not set
diff --git a/src/templates/globalconfig.out.ux-2 b/src/templates/globalconfig.out.ux-2
index be9ed3d..b2af43d 100644
--- a/src/templates/globalconfig.out.ux-2
+++ b/src/templates/globalconfig.out.ux-2
@@ -1,5 +1,4 @@
 CONFIG_PF_UX=y
-CONFIG_IA32_CORE2=y
 CONFIG_SCHED_WFQ=y
 CONFIG_MAINTAINER_MODE=y
 CONFIG_EXPERIMENTAL=y
diff --git a/src/templates/globalconfig.out.ux-3-noinl b/src/templates/globalconfig.out.ux-3-noinl
index 261b30c..b604856 100644
--- a/src/templates/globalconfig.out.ux-3-noinl
+++ b/src/templates/globalconfig.out.ux-3-noinl
@@ -1,5 +1,4 @@
 CONFIG_PF_UX=y
-CONFIG_IA32_CORE_I=y
 # CONFIG_INLINE is not set
 # CONFIG_NO_FRAME_PTR is not set
 # CONFIG_JDB_GZIP is not set