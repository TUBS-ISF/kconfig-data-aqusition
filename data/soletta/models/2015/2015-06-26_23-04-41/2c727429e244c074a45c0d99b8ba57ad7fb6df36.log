"2015-06-26 23:04:41 -0300"
diff --git a/src/lib/common/Kconfig b/src/lib/common/Kconfig
index 98ee554d..02f0187a 100644
--- a/src/lib/common/Kconfig
+++ b/src/lib/common/Kconfig
@@ -2,7 +2,7 @@ config CORE
 	bool
 	default y
 
-config PLATFORM_LINUX_COMMON
+config SOL_PLATFORM_LINUX
 	bool
 	default n
 
@@ -13,7 +13,7 @@ choice
 	  The platform of your target.
 
 config PLATFORM_LINUX_MICRO
-	select PLATFORM_LINUX_COMMON
+	select SOL_PLATFORM_LINUX
 	bool "micro-linux"
 
 config PLATFORM_RIOTOS
@@ -21,13 +21,14 @@ config PLATFORM_RIOTOS
 
 config PLATFORM_DUMMY
 	bool "dummy"
-	select PLATFORM_LINUX_COMMON
+	select SOL_PLATFORM_LINUX
 
 config PLATFORM_SYSTEMD
 	bool "systemd"
 	depends on HAVE_SYSTEMD
 	select USE_SYSTEMD
-	select PLATFORM_LINUX_COMMON
+	select SOL_PLATFORM_LINUX
+	select KDBUS
 endchoice
 
 choice
diff --git a/src/lib/common/Makefile b/src/lib/common/Makefile
index 9d5d7c1c..b568c5ce 100644
--- a/src/lib/common/Makefile
+++ b/src/lib/common/Makefile
@@ -11,11 +11,11 @@ obj-core-$(MAINLOOP_GLIB)-extra-cflags += $(GLIB_CFLAGS)
 
 obj-core-$(MAINLOOP_POSIX)   += sol-mainloop-impl-posix.o
 obj-core-$(MAINLOOP_RIOTOS)  += sol-mainloop-impl-riot.o
-obj-core-$(PLATFORM_LINUX_MICRO) += sol-log-impl-linux.o sol-platform-impl-linux-micro.o
+obj-core-$(PLATFORM_LINUX_MICRO) += sol-platform-impl-linux-micro.o
 obj-core-$(SOCKET_LINUX)     += sol-socket-linux.o
 obj-core-$(PLATFORM_RIOTOS)  += sol-platform-impl-riot.o
 obj-core-$(PLATFORM_DUMMY)   += sol-platform-impl-dummy.o
-obj-core-$(PLATFORM_LINUX_COMMON) += sol-platform-linux-common.o
+obj-core-$(SOL_PLATFORM_LINUX) += sol-platform-linux-common.o sol-log-impl-linux.o
 
 obj-core-$(PLATFORM_SYSTEMD) += sol-platform-impl-systemd.o
 obj-core-$(PLATFORM_SYSTEMD)-extra-cflags += $(SYSTEMD_CFLAGS) $(UDEV_CFLAGS)
diff --git a/src/lib/common/sol-log.h b/src/lib/common/sol-log.h
index f6d39355..16168848 100644
--- a/src/lib/common/sol-log.h
+++ b/src/lib/common/sol-log.h
@@ -35,6 +35,7 @@
 #include "sol-common-buildopts.h"
 
 #include "sol-macros.h"
+#include "sol_config.h"
 #include <inttypes.h>
 #include <stdint.h>
 #include <stdarg.h>
diff --git a/src/modules/flow/accelerometer/Kconfig b/src/modules/flow/accelerometer/Kconfig
index 567e2d0c..dc059384 100644
--- a/src/modules/flow/accelerometer/Kconfig
+++ b/src/modules/flow/accelerometer/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_NODE_TYPE_ACCELEROMETER
 	tristate "Node type: accelerometer"
-	depends on FLOW && PLATFORM_LINUX_COMMON
+	depends on FLOW && SOL_PLATFORM_LINUX
 	default m
diff --git a/src/modules/flow/gyroscope/Kconfig b/src/modules/flow/gyroscope/Kconfig
index f41f963e..01e00cd3 100644
--- a/src/modules/flow/gyroscope/Kconfig
+++ b/src/modules/flow/gyroscope/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_NODE_TYPE_GYROSCOPE
 	tristate "Node type: gyroscope"
-	depends on FLOW && PLATFORM_LINUX_COMMON
+	depends on FLOW && SOL_PLATFORM_LINUX
 	default m
diff --git a/src/modules/flow/process/Kconfig b/src/modules/flow/process/Kconfig
index c3006fd5..335440d0 100644
--- a/src/modules/flow/process/Kconfig
+++ b/src/modules/flow/process/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_NODE_TYPE_PROCESS
 	tristate "Node type: process"
-	depends on FLOW && PLATFORM_LINUX_COMMON
+	depends on FLOW && SOL_PLATFORM_LINUX
 	default m
diff --git a/src/shared/Makefile b/src/shared/Makefile
index 54042136..520fc24c 100644
--- a/src/shared/Makefile
+++ b/src/shared/Makefile
@@ -30,7 +30,7 @@ obj-libshared-m += sol-gpio-riot.o sol-i2c-riot.o sol-pwm-riot.o
 obj-libshared-m += sol-spi-riot.o sol-uart-riot.o sol-network-riot.o
 endif
 
-ifeq (y,$(PLATFORM_LINUX_MICRO))
+ifeq (y,$(SOL_PLATFORM_LINUX))
 obj-libshared-m += sol-file-reader.o sol-gpio-linux.o sol-network-linux.o
 obj-libshared-m += sol-pwm-linux.o sol-i2c-linux.o sol-spi-linux.o sol-uart-linux.o
 endif