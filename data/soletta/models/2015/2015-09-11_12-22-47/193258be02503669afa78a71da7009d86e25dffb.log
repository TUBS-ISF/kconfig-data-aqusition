"2015-09-11 12:22:47 -0300"
diff --git a/src/samples/flow/compass/Kconfig b/src/samples/flow/compass/Kconfig
index e0327941..7b555c24 100644
--- a/src/samples/flow/compass/Kconfig
+++ b/src/samples/flow/compass/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_COMPASS_LSM303_SAMPLE
 	bool
-	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_MAGNETOMETER && ACCELEROMETER
+	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_MAGNETOMETER && FLOW_NODE_TYPE_ACCELEROMETER && FLOW_NODE_TYPE_COMPASS
 	default y
diff --git a/src/samples/flow/compass/Makefile b/src/samples/flow/compass/Makefile
index 10f6bb12..b69bb819 100644
--- a/src/samples/flow/compass/Makefile
+++ b/src/samples/flow/compass/Makefile
@@ -1,3 +1,6 @@
 sample-$(FLOW_COMPASS_LSM303_SAMPLE) += compass-lsm303
 sample-compass-lsm303-$(FLOW_COMPASS_LSM303_SAMPLE) := lsm303.fbp
-sample-compass-lsm303-$(FLOW_COMPASS_LSM303_SAMPLE)-deps := flow/accelerometer.mod flow/magnetometer.mod
+sample-compass-lsm303-$(FLOW_COMPASS_LSM303_SAMPLE)-deps := \
+	flow/accelerometer.mod \
+	flow/compass.mod \
+	flow/magnetometer.mod
diff --git a/src/samples/flow/foosball/Kconfig b/src/samples/flow/foosball/Kconfig
index e10e626d..383300a9 100644
--- a/src/samples/flow/foosball/Kconfig
+++ b/src/samples/flow/foosball/Kconfig
@@ -1,4 +1,5 @@
+# FIXME: Skipping it because generator has a bug with array ports
 config FLOW_FOOSBALL_SAMPLE
 	bool
-	depends on FLOW_FBP_GENERATOR_SAMPLES
+	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_GTK && SKIP
 	default y
diff --git a/src/samples/flow/foosball/Makefile b/src/samples/flow/foosball/Makefile
index 6a13d843..24a7628e 100644
--- a/src/samples/flow/foosball/Makefile
+++ b/src/samples/flow/foosball/Makefile
@@ -1,2 +1,4 @@
-sample-$(FLOW_FOOSBAL_SAMPLE) += foosball
-sample-foosball-$(FLOW_FOOSBALL_SAMPLE) := foosball.fbp tracker.fbp
+sample-$(FLOW_FOOSBALL_SAMPLE) += foosball
+sample-foosball-$(FLOW_FOOSBALL_SAMPLE) := \
+	foosball.fbp
+sample-foosball-$(FLOW_FOOSBALL_SAMPLE)-deps := gtk.mod
diff --git a/src/samples/flow/gtk-gallery/Kconfig b/src/samples/flow/gtk-gallery/Kconfig
index 99dae02e..6c4f5a08 100644
--- a/src/samples/flow/gtk-gallery/Kconfig
+++ b/src/samples/flow/gtk-gallery/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_GTK_GALLERY_SAMPLE
 	bool
-	depends on FLOW_FBP_GENERATOR_SAMPLES && GTK
+	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_GTK
 	default y
diff --git a/src/samples/flow/led-strip/Kconfig b/src/samples/flow/led-strip/Kconfig
index ce06b145..ccc8fbf2 100644
--- a/src/samples/flow/led-strip/Kconfig
+++ b/src/samples/flow/led-strip/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_LD_STRIP_LPD8806_SAMPLE
 	bool
-	depends on FLOW_FBP_GENERATOR_SAMPLES
+	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_LED_STRIP
 	default y
diff --git a/src/samples/flow/led-strip/Makefile b/src/samples/flow/led-strip/Makefile
index 4d1def63..f8561208 100644
--- a/src/samples/flow/led-strip/Makefile
+++ b/src/samples/flow/led-strip/Makefile
@@ -1,2 +1,4 @@
-sample-$(FLOW_LD_STRIP_LDP8806_SAMPLE) += ldp8806
-sample-ldp8806-$(FLOW_LD_STRIP_LDP8806_SAMPLE) := ldp8806.fbp
+sample-$(FLOW_LD_STRIP_LPD8806_SAMPLE) += lpd8806
+sample-lpd8806-$(FLOW_LD_STRIP_LPD8806_SAMPLE) := lpd8806.fbp
+sample-lpd8806-$(FLOW_LD_STRIP_LPD8806_SAMPLE)-deps := \
+	flow/led-strip.mod \
diff --git a/src/samples/flow/trash-disposer/Kconfig b/src/samples/flow/trash-disposer/Kconfig
index a902ecbf..572061f7 100644
--- a/src/samples/flow/trash-disposer/Kconfig
+++ b/src/samples/flow/trash-disposer/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_TRASH_DISPOSER
 	bool
-	depends on (FLOW_NODE_TYPE_SERVO_MOTOR = y) && (FLOW_NODE_TYPE_GPIO = y) && FLOW_FBP_GENERATOR_SAMPLES
+	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_SERVO_MOTOR && FLOW_NODE_TYPE_GPIO
 	default y
diff --git a/src/samples/flow/trash-disposer/Makefile b/src/samples/flow/trash-disposer/Makefile
index 09c3f08f..d85d4f9c 100644
--- a/src/samples/flow/trash-disposer/Makefile
+++ b/src/samples/flow/trash-disposer/Makefile
@@ -1,3 +1,4 @@
 sample-$(FLOW_TRASH_DISPOSER) += trash-disposer
 sample-trash-disposer-$(FLOW_TRASH_DISPOSER) := trash-disposer.fbp
 sample-trash-disposer-$(FLOW_TRASH_DISPOSER)-conffile := contiki-config.json
+sample-trash-disposer-$(FLOW_TRASH_DISPOSER)-deps := flow/servo-motor.mod flow/gpio.mod