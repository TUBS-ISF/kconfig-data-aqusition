"2015-10-08 18:29:01 -0300"
diff --git a/Kconfig b/Kconfig
index 2cbfd1c4..58e2b4f2 100644
--- a/Kconfig
+++ b/Kconfig
@@ -186,6 +186,7 @@ source "src/samples/flow/misc/Kconfig"
 source "src/samples/flow/oic/Kconfig"
 source "src/samples/flow/trash-disposer/Kconfig"
 source "src/samples/flow/unix-socket/Kconfig"
+source "src/samples/flow/semaphore-monitor/Kconfig"
 
 endmenu
 
diff --git a/src/samples/flow/semaphore-monitor/Kconfig b/src/samples/flow/semaphore-monitor/Kconfig
new file mode 100644
index 00000000..3ccf466f
--- /dev/null
+++ b/src/samples/flow/semaphore-monitor/Kconfig
@@ -0,0 +1,4 @@
+config FLOW_SEMAPHORE_MONITOR_SEMAPHORE_MONITOR_CONSOLE_SAMPLE
+        bool
+        depends on FLOW_FBP_GENERATOR_SAMPLES
+        default y
diff --git a/src/samples/flow/semaphore-monitor/Makefile b/src/samples/flow/semaphore-monitor/Makefile
new file mode 100644
index 00000000..d40289f6
--- /dev/null
+++ b/src/samples/flow/semaphore-monitor/Makefile
@@ -0,0 +1,8 @@
+sample-$(FLOW_SEMAPHORE_MONITOR_SEMAPHORE_MONITOR_CONSOLE_SAMPLE) += semaphore-monitor-console
+sample-semaphore-monitor-console-$(FLOW_SEMAPHORE_MONITOR_SEMAPHORE_MONITOR_CONSOLE_SAMPLE) := semaphore-monitor-console.fbp
+sample-semaphore-monitor-console-$(FLOW_SEMAPHORE_MONITOR_SEMAPHORE_MONITOR_CONSOLE_SAMPLE)-deps := \
+	flow/console.mod \
+	flow/constant.mod \
+	flow/http-client.mod \
+	flow/string.mod \
+	flow/timer.mod
diff --git a/src/samples/flow/semaphore-monitor/README.md b/src/samples/flow/semaphore-monitor/README.md
new file mode 100644
index 00000000..e68b0ecd
--- /dev/null
+++ b/src/samples/flow/semaphore-monitor/README.md
@@ -0,0 +1,19 @@
+# Semaphore Monitor
+
+This is a set of samples to get the Soletta Semaphore build status and
+show it.
+
+ * semaphore-monitor.fbp: the logic that can be reused for all
+   projects and outputs. It takes an URL and once the input port
+   **UPDATE** receives a packet it will do the HTTP request and output
+   the status string on its **STATUS** port.
+
+ * semaphore-monitor-console.fbp: uses the logic above with a 5s
+   timer, output goes to console.
+
+## Running
+
+
+```sh
+./semaphore-monitor-console.fbp # runs forever, use Ctrl-C to quit
+```
diff --git a/src/samples/flow/semaphore-monitor/semaphore-monitor-console.fbp b/src/samples/flow/semaphore-monitor/semaphore-monitor-console.fbp
new file mode 100755
index 00000000..a1a6d560
--- /dev/null
+++ b/src/samples/flow/semaphore-monitor/semaphore-monitor-console.fbp
@@ -0,0 +1,60 @@
+#!/usr/bin/env sol-fbp-runner
+# This file is part of the Soletta Project
+#
+# Copyright (C) 2015 Intel Corporation. All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions
+# are met:
+#
+#   * Redistributions of source code must retain the above copyright
+#     notice, this list of conditions and the following disclaimer.
+#   * Redistributions in binary form must reproduce the above copyright
+#     notice, this list of conditions and the following disclaimer in
+#     the documentation and/or other materials provided with the
+#     distribution.
+#   * Neither the name of Intel Corporation nor the names of its
+#     contributors may be used to endorse or promote products derived
+#     from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
+# "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
+# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
+# A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
+# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
+# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
+# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
+# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+
+# This file will output Soletta's semaphore monitor status.
+#
+# It will check the build status every 5 seconds by using another FBP
+# that provides the logic to get semaphore build status.
+#
+# It is an example of:
+#
+#  - timer node type (timeout mainloop primitive)
+#
+#  - using 'DECLARE' statements to include other FBP as a node type
+#
+#  - console node type
+#
+# Diagram:
+#
+# .-------.
+# | timer |OUT----------.
+# `-------'             |        .---------.          .---------.
+#                       +->UPDATE| monitor |STATUS->IN| console |
+# .----------------.    |        `---------'          `---------'
+# | constant/empty |OUT-'
+# `----------------'
+
+DECLARE=semaphore-monitor:fbp:semaphore-monitor.fbp
+
+monitor(semaphore-monitor:url="https://semaphoreci.com/api/v1/projects/3cbed176-fbb9-4ca0-aacd-5b429e8166da/526888/shields_badge.svg") STATUS -> IN _(console:prefix="Soletta Semaphore Build Status: ")
+
+_(constant/empty) OUT -> UPDATE monitor
+_(timer:interval=5000) OUT -> UPDATE monitor
diff --git a/src/samples/flow/semaphore-monitor/semaphore-monitor.fbp b/src/samples/flow/semaphore-monitor/semaphore-monitor.fbp
new file mode 100644
index 00000000..cec5032b
--- /dev/null
+++ b/src/samples/flow/semaphore-monitor/semaphore-monitor.fbp
@@ -0,0 +1,61 @@
+# This file is part of the Soletta Project
+#
+# Copyright (C) 2015 Intel Corporation. All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions
+# are met:
+#
+#   * Redistributions of source code must retain the above copyright
+#     notice, this list of conditions and the following disclaimer.
+#   * Redistributions in binary form must reproduce the above copyright
+#     notice, this list of conditions and the following disclaimer in
+#     the documentation and/or other materials provided with the
+#     distribution.
+#   * Neither the name of Intel Corporation nor the names of its
+#     contributors may be used to endorse or promote products derived
+#     from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
+# "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
+# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
+# A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
+# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
+# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
+# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
+# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+
+# This file will output Soletta's semaphore monitor status.
+#
+# It will check the build status by getting the semaphore SVG and
+# applying a regular expression to see if it failed or passed.
+#
+# It is only the base component, one still need to call its exported
+# input port UPDATE to trigger the action and wait for output packets
+# on the STATUS port. See semaphore-monitor-console.fbp for an example
+# that uses this.
+#
+# It is an example of:
+#
+#  - http-client/get-string node type (get the SVG as plain text)
+#
+#  - string/regexp-search node type (extract passed/failed string)
+#
+# Diagram:
+#
+#       .------------------------------------------------.
+#       |      .---------.         .--------------.      |
+# UPDATE|-->GET| get_svg |OUT-+->IN| check_status |OUT-->|STATUS
+#       |      `---------'         `--------------'      |
+#       `------------------------------------------------'
+
+
+INPORT=get_svg.GET:UPDATE
+OUTPORT=check_status.OUT:STATUS
+OPTION=get_svg.url:url
+
+get_svg(http-client/get-string:content_type=null)
+get_svg OUT -> IN check_status(string/regexp-search:regexp="(<text [^>]+>(passed|failed)</text>)",index=2)