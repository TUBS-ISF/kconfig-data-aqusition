"2015-08-07 13:59:36 -0300"
diff --git a/Kconfig b/Kconfig
index e4e80ad3..3215a22f 100644
--- a/Kconfig
+++ b/Kconfig
@@ -1,6 +1,15 @@
 mainmenu "Soletta configuration"
 
 source "Kconfig.gen"
+source "tools/build/Kconfig.features"
+
+config BASE_OS
+    string
+    default "contiki" if HAVE_CONTIKI
+    default "linux" if HAVE_LINUX
+    default "riot" if HAVE_RIOTOS
+
+source "tools/build/Kconfig.$BASE_OS"
 
 menu "Basic"
 # backward compatibility with autotools vars
diff --git a/tools/build/Kconfig.contiki b/tools/build/Kconfig.contiki
new file mode 100644
index 00000000..50bcdc23
--- /dev/null
+++ b/tools/build/Kconfig.contiki
@@ -0,0 +1,3 @@
+config CONTIKI
+    def_bool y
+    select FEATURE_HW_GPIO
diff --git a/tools/build/Kconfig.features b/tools/build/Kconfig.features
new file mode 100644
index 00000000..c442cf3e
--- /dev/null
+++ b/tools/build/Kconfig.features
@@ -0,0 +1,41 @@
+config FEATURE_DYNAMIC_LINKER
+    bool
+
+config FEATURE_RUNNABLE_PROGRAMS
+    bool
+
+config FEATURE_WORKER_THREADS
+    bool
+
+config FEATURE_UNIX_SOCKETS
+    bool
+
+config FEATURE_NETWORK
+    bool
+
+config FEATURE_COAP
+    bool
+
+config FEATURE_HTTP_CLIENT
+    bool
+
+config FEATURE_HW_AIO
+    bool
+
+config FEATURE_HW_PWM
+    bool
+
+config FEATURE_HW_GPIO
+    bool
+
+config FEATURE_HW_UART
+    bool
+
+config FEATURE_HW_SPI
+    bool
+
+config FEATURE_HW_I2C
+    bool
+
+config FEATURE_FLOW
+    bool
diff --git a/tools/build/Kconfig.linux b/tools/build/Kconfig.linux
new file mode 100644
index 00000000..196d2f42
--- /dev/null
+++ b/tools/build/Kconfig.linux
@@ -0,0 +1,16 @@
+config LINUX
+    def_bool y
+    select FEATURE_DYNAMIC_LINKER
+    select FEATURE_HW_AIO
+    select FEATURE_HW_PWM
+    select FEATURE_HW_SPI
+    select FEATURE_HW_GPIO
+    select FEATURE_HW_UART
+    select FEATURE_HW_I2C
+    select FEATURE_RUNNABLE_PROGRAMS
+    select FEATURE_WORKER_THREADS
+    select FEATURE_UNIX_SOCKETS
+    select FEATURE_NETWORK
+    select FEATURE_COAP
+    select FEATURE_HTTP_CLIENT if HAVE_LIBCURL
+    select FEATURE_FLOW
diff --git a/tools/build/Kconfig.riot b/tools/build/Kconfig.riot
new file mode 100644
index 00000000..c27ec4e8
--- /dev/null
+++ b/tools/build/Kconfig.riot
@@ -0,0 +1,9 @@
+config RIOT
+    def_bool y
+    select FEATURE_HW_AIO
+    select FEATURE_HW_PWM
+    select FEATURE_HW_SPI
+    select FEATURE_HW_GPIO
+    select FEATURE_HW_UART
+    select FEATURE_HW_I2C
+    select FEATURE_NETWORK