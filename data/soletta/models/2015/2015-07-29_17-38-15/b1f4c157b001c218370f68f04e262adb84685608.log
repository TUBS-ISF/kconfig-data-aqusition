"2015-07-29 17:38:15 -0300"
diff --git a/src/lib/common/Kconfig b/src/lib/common/Kconfig
index b18bdb19..18d8f293 100644
--- a/src/lib/common/Kconfig
+++ b/src/lib/common/Kconfig
@@ -321,6 +321,10 @@ config USE_SPI
 config USE_UART
 	bool "UART Support"
 	default y
+
+config USE_I2C
+	bool "I2C Support"
+	default y
 endmenu
 
 config SOCKET_LINUX
diff --git a/src/lib/io/Makefile b/src/lib/io/Makefile
index a1bedf5a..f29e9403 100644
--- a/src/lib/io/Makefile
+++ b/src/lib/io/Makefile
@@ -1,18 +1,21 @@
 obj-$(IO) += io.mod
 
 obj-io-$(IO) := \
-    sol-gpio-common.o \
-    sol-i2c-common.o
+    sol-gpio-common.o
 
 ifeq (y, $(USE_PWM))
 obj-io-$(IO) += \
     sol-pwm-common.o
 endif
 
+ifeq (y, $(USE_I2C))
+obj-io-$(IO) += \
+    sol-i2c-common.o
+endif
+
 ifeq (y,$(PLATFORM_RIOTOS))
 obj-io-$(IO) += \
-    sol-gpio-riot.o \
-    sol-i2c-riot.o
+    sol-gpio-riot.o
 
 ifeq (y, $(USE_PWM))
 obj-io-$(IO) += \
@@ -28,7 +31,12 @@ ifeq (y, $(USE_UART))
 obj-io-$(IO) += \
     sol-uart-riot.o
 endif # USE_UART
-endif
+
+ifeq (y, $(USE_I2C))
+obj-io-$(IO) += \
+    sol-i2c-riot.o
+endif # USE_I2C
+endif # PLATFORM_RIOTOS
 
 ifeq (y,$(PLATFORM_CONTIKI))
 obj-io-$(IO) += \
@@ -37,8 +45,7 @@ endif
 
 ifeq (y,$(SOL_PLATFORM_LINUX))
 obj-io-$(IO) += \
-    sol-gpio-linux.o \
-    sol-i2c-linux.o
+    sol-gpio-linux.o
 
 ifeq (y, $(USE_PWM))
 obj-io-$(IO) += \
@@ -54,11 +61,15 @@ ifeq (y, $(USE_UART))
 obj-io-$(IO) += \
     sol-uart-linux.o
 endif # USE_UART
-endif
+
+ifeq (y, $(USE_I2C))
+obj-io-$(IO) += \
+    sol-i2c-linux.o
+endif # USE_I2C
+endif # PLATFORM_LINUX
 
 headers-$(IO) := \
-    include/sol-gpio.h \
-    include/sol-i2c.h
+    include/sol-gpio.h
 
 ifeq (y, $(USE_PWM))
 headers-$(IO) += \
@@ -74,3 +85,8 @@ ifeq (y, $(USE_UART))
 headers-$(IO) += \
     include/sol-uart.h
 endif
+
+ifeq (y, $(USE_I2C))
+headers-$(IO) += \
+    include/sol-i2c.h
+endif
diff --git a/src/modules/flow/accelerometer/Kconfig b/src/modules/flow/accelerometer/Kconfig
index dc059384..7fa0291e 100644
--- a/src/modules/flow/accelerometer/Kconfig
+++ b/src/modules/flow/accelerometer/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_NODE_TYPE_ACCELEROMETER
 	tristate "Node type: accelerometer"
-	depends on FLOW && SOL_PLATFORM_LINUX
+	depends on FLOW && SOL_PLATFORM_LINUX && USE_I2C
 	default m
diff --git a/src/modules/flow/grove/Kconfig b/src/modules/flow/grove/Kconfig
index db47705a..427f8111 100644
--- a/src/modules/flow/grove/Kconfig
+++ b/src/modules/flow/grove/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_NODE_TYPE_GROVE
 	tristate "Node type: grove"
-	depends on FLOW
+	depends on FLOW && USE_I2C
 	default m
diff --git a/src/modules/flow/gyroscope/Kconfig b/src/modules/flow/gyroscope/Kconfig
index 01e00cd3..b604c035 100644
--- a/src/modules/flow/gyroscope/Kconfig
+++ b/src/modules/flow/gyroscope/Kconfig
@@ -1,4 +1,4 @@
 config FLOW_NODE_TYPE_GYROSCOPE
 	tristate "Node type: gyroscope"
-	depends on FLOW && SOL_PLATFORM_LINUX
+	depends on FLOW && SOL_PLATFORM_LINUX && USE_I2C
 	default m