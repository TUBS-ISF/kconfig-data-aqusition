"2015-09-16 12:28:33 -0300"
diff --git a/src/samples/flow/foosball/Kconfig b/src/samples/flow/foosball/Kconfig
index d7c09353..3a2b02b1 100644
--- a/src/samples/flow/foosball/Kconfig
+++ b/src/samples/flow/foosball/Kconfig
@@ -1,4 +1,3 @@
-# FIXME: Skipping it because generator has a bug with array ports
 config FLOW_FOOSBALL_SAMPLE
 	bool
 	depends on FLOW_FBP_GENERATOR_SAMPLES && FLOW_NODE_TYPE_GTK
diff --git a/src/samples/flow/foosball/Makefile b/src/samples/flow/foosball/Makefile
index 24a7628e..543e7a3f 100644
--- a/src/samples/flow/foosball/Makefile
+++ b/src/samples/flow/foosball/Makefile
@@ -1,4 +1,6 @@
 sample-$(FLOW_FOOSBALL_SAMPLE) += foosball
 sample-foosball-$(FLOW_FOOSBALL_SAMPLE) := \
 	foosball.fbp
-sample-foosball-$(FLOW_FOOSBALL_SAMPLE)-deps := gtk.mod
+sample-foosball-$(FLOW_FOOSBALL_SAMPLE)-deps := \
+	gtk.mod \
+	tracker.fbp
diff --git a/tools/build/Makefile.rules b/tools/build/Makefile.rules
index 07da67dc..a5d4bce7 100644
--- a/tools/build/Makefile.rules
+++ b/tools/build/Makefile.rules
@@ -144,6 +144,7 @@ parse-sample = \
 	$(eval sample-$(1)-srcs := $(subst .o,.c,$(sample-$(1)-srcs))) \
 	$(eval $(1)-deps        := $(subst .mod,,$(sample-$(1)-y-deps))) \
 	$(eval samples-out      += $(sample-$(1)-out)) \
+	$(eval $(1)-dir         += $(2)) \
 
 parse-warnings = \
 	$(if $(2), \
@@ -268,7 +269,7 @@ sample-out = $(if $(filter %.o,$(sample-$(1)-out)), -c -o $(sample-$(1)-out),-o
 sample-src = $(filter-out %.json,$(filter-out %.h,$(sample-$(1)-srcs)))
 
 define make-sample
-$(sample-$(1)-out): $(SOL_LIB_OUTPUT) $(sample-$(1)-srcs) $(call find-deps,$(1))
+$(sample-$(1)-out): $(SOL_LIB_OUTPUT) $(sample-$(1)-srcs) $(call find-deps,$(1)) $(addprefix $($(1)-dir),$(filter %.fbp,$($(1)-deps)))
 	$(Q)echo "     "SMP"   "$$@
 	$(Q)$(MKDIR) -p $(dir $(sample-$(1)-out))
 	$(Q)$(TARGETCC) $(SAMPLE_CFLAGS) $(sample-$(1)-cflags) $(sample-$(1)-includedir) $(sample-src) \