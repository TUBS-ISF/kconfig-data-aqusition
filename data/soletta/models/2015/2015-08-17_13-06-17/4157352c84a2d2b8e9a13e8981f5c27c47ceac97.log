"2015-08-17 13:06:17 -0300"
diff --git a/src/modules/flow/string/Kconfig b/src/modules/flow/string/Kconfig
index 9fbbd12e..cc19303d 100644
--- a/src/modules/flow/string/Kconfig
+++ b/src/modules/flow/string/Kconfig
@@ -1,3 +1,9 @@
+# This is the solely user of ICU. If gets wider use, move up in the hierarchy.
+config USE_ICU
+	bool "Use ICU library"
+	depends on HAVE_ICU
+	default y
+
 config FLOW_NODE_TYPE_STRING
 	tristate "Node type: string"
 	default y
diff --git a/src/modules/flow/string/Makefile b/src/modules/flow/string/Makefile
index 690e37e5..5c1fbae2 100644
--- a/src/modules/flow/string/Makefile
+++ b/src/modules/flow/string/Makefile
@@ -1,15 +1,11 @@
 obj-$(FLOW_NODE_TYPE_STRING) += string.mod
 obj-string-$(FLOW_NODE_TYPE_STRING) := string.json
 
-ifdef LINUX
-ifdef HAVE_ICU
+ifdef USE_ICU
 obj-string-$(FLOW_NODE_TYPE_STRING) += string-icu.o string-replace-icu.o
 else
 obj-string-$(FLOW_NODE_TYPE_STRING) += string-ascii.o string-replace-ascii.o
 endif
-else
-obj-string-$(FLOW_NODE_TYPE_STRING) += string-ascii.o
-endif
 
 obj-string-$(FLOW_NODE_TYPE_STRING)-extra-cflags += $(LOCALE_CFLAGS) $(ICU_CFLAGS)
 obj-string-$(FLOW_NODE_TYPE_STRING)-extra-ldflags += $(LOCALE_LDFLAGS) $(ICU_LDFLAGS)