"2016-05-23 14:22:27 -0300"
diff --git a/src/lib/common/sol-pin-mux.c b/src/lib/common/sol-pin-mux.c
index d3d76681..447c5937 100644
--- a/src/lib/common/sol-pin-mux.c
+++ b/src/lib/common/sol-pin-mux.c
@@ -17,7 +17,9 @@
  */
 
 #include <errno.h>
+#ifdef ENABLE_DYNAMIC_MODULES
 #include <dlfcn.h>
+#endif
 #include <limits.h>
 #include <stdarg.h>
 #include <stdbool.h>
diff --git a/src/lib/io/Kconfig b/src/lib/io/Kconfig
index 24fad6a9..7bec1f06 100644
--- a/src/lib/io/Kconfig
+++ b/src/lib/io/Kconfig
@@ -35,7 +35,7 @@ config USE_IIO
 
 menuconfig USE_PIN_MUX
     bool "Pin Multiplexer"
-    depends on LINUX && USE_GPIO
+    depends on FEATURE_PIN_MUX
     default y
     help
           Pin Multiplexer is a feature that helps to setup
@@ -53,9 +53,11 @@ menuconfig USE_PIN_MUX
 
           If unsure, say Y.
 
+if LINUX && USE_GPIO
 source "src/modules/pin-mux/intel-galileo-rev-d/Kconfig"
 source "src/modules/pin-mux/intel-galileo-rev-g/Kconfig"
 source "src/modules/pin-mux/intel-edison-rev-c/Kconfig"
+endif
 
 menuconfig USE_STORAGE
     bool "Persistence Storage Support"
diff --git a/tools/build/Kconfig.features b/tools/build/Kconfig.features
index f2437151..81a6bb84 100644
--- a/tools/build/Kconfig.features
+++ b/tools/build/Kconfig.features
@@ -60,3 +60,6 @@ config FEATURE_CC_SANITIZE
 
 config FEATURE_OIC
     bool
+
+config FEATURE_PIN_MUX
+    bool
diff --git a/tools/build/Kconfig.linux b/tools/build/Kconfig.linux
index 1fe217e9..87a33e41 100644
--- a/tools/build/Kconfig.linux
+++ b/tools/build/Kconfig.linux
@@ -20,3 +20,4 @@ config LINUX
     select FEATURE_FILESYSTEM
     select FEATURE_CC_SANITIZE
     select FEATURE_OIC
+    select FEATURE_PIN_MUX