"2016-07-19 18:32:56 -0300"
diff --git a/src/lib/comms/Kconfig b/src/lib/comms/Kconfig
index 31e0f1e3..d59d301a 100644
--- a/src/lib/comms/Kconfig
+++ b/src/lib/comms/Kconfig
@@ -203,7 +203,7 @@ config HTTP_SERVER_PORT
 config MQTT
 	bool "MQTT"
 	default y
-    depends on NETWORK && HAVE_MOSQUITTO
+    depends on NETWORK && FEATURE_MQTT
     help
             MQTT is a machine-to-machine (M2M)/"Internet of Things"
             connectivity protocol. It was designed as an extremely
diff --git a/tools/build/Kconfig.features b/tools/build/Kconfig.features
index 9b9a98b4..b1cfdc94 100644
--- a/tools/build/Kconfig.features
+++ b/tools/build/Kconfig.features
@@ -55,6 +55,9 @@ config FEATURE_HW_SPI
 config FEATURE_HW_UART
     bool
 
+config FEATURE_MQTT
+    bool
+
 config FEATURE_NETWORK
     bool
 
diff --git a/tools/build/Kconfig.linux b/tools/build/Kconfig.linux
index 930da751..9f9bbebd 100644
--- a/tools/build/Kconfig.linux
+++ b/tools/build/Kconfig.linux
@@ -18,6 +18,7 @@ config LINUX
     select FEATURE_HW_PWM
     select FEATURE_HW_SPI
     select FEATURE_HW_UART
+    select FEATURE_MQTT if HAVE_MOSQUITTO
     select FEATURE_NETWORK
     select FEATURE_OIC
     select FEATURE_PIN_MUX