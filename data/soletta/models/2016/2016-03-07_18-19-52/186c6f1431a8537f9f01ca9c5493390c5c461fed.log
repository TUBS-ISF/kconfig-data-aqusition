"2016-03-07 18:19:52 -0300"
diff --git a/src/lib/flow/Makefile b/src/lib/flow/Makefile
index ce3fb33e..b170247d 100644
--- a/src/lib/flow/Makefile
+++ b/src/lib/flow/Makefile
@@ -30,14 +30,16 @@ obj-flow-$(RESOLVER_CONFFILE) += \
 obj-flow-$(FLOW_SUPPORT)-extra-cflags += $(def-resolver-flag)
 
 headers-$(FLOW_SUPPORT) := \
-    include/sol-flow-builder.h \
     include/sol-flow.h \
     include/sol-flow-inspector.h \
     include/sol-flow-metatype.h \
     include/sol-flow-packet.h \
-    include/sol-flow-parser.h \
-    include/sol-flow-resolver.h \
     include/sol-flow-simplectype.h \
     include/sol-flow-single.h \
     include/sol-flow-static.h \
     sol-flow-buildopts.h.in
+
+headers-$(NODE_DESCRIPTION) += \
+    include/sol-flow-parser.h \
+    include/sol-flow-resolver.h \
+    include/sol-flow-builder.h
diff --git a/src/lib/flow/sol-flow.c b/src/lib/flow/sol-flow.c
index 68f3460d..76887b27 100644
--- a/src/lib/flow/sol-flow.c
+++ b/src/lib/flow/sol-flow.c
@@ -35,7 +35,6 @@
 #include <time.h>
 
 #include "sol-flow-internal.h"
-#include "sol-flow-resolver.h"
 #include "sol-util-internal.h"
 
 SOL_LOG_INTERNAL_DECLARE(_sol_flow_log_domain, "flow");
diff --git a/src/samples/flow/c-api/Kconfig b/src/samples/flow/c-api/Kconfig
index 17e22530..1cb6a5fe 100644
--- a/src/samples/flow/c-api/Kconfig
+++ b/src/samples/flow/c-api/Kconfig
@@ -5,7 +5,7 @@ config FLOW_C_API_CUSTOM_NODE_TYPES_SAMPLE
 
 config FLOW_C_API_HIGHLEVEL_SAMPLE
 	bool
-	depends on FLOW_SUPPORT && FLOW_NODE_TYPE_CONSOLE
+	depends on NODE_DESCRIPTION && FLOW_NODE_TYPE_CONSOLE
 	default y
 
 config FLOW_C_API_LOWLEVEL_SAMPLE
@@ -15,7 +15,7 @@ config FLOW_C_API_LOWLEVEL_SAMPLE
 
 config FLOW_C_API_SIMPLECTYPE_SAMPLE
 	bool
-	depends on FLOW_SUPPORT && FLOW_NODE_TYPE_CONSOLE && FLOW_NODE_TYPE_BOOLEAN && FLOW_NODE_TYPE_INT && FLOW_NODE_TYPE_TIMER
+	depends on NODE_DESCRIPTION && FLOW_NODE_TYPE_CONSOLE && FLOW_NODE_TYPE_BOOLEAN && FLOW_NODE_TYPE_INT && FLOW_NODE_TYPE_TIMER
 	default y
 
 config FLOW_C_API_FIND_TYPE_SAMPLE