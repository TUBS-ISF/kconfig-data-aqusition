"2016-02-17 15:42:32 -0200"
diff --git a/Kconfig b/Kconfig
index 6a47d273..38f0fe1f 100644
--- a/Kconfig
+++ b/Kconfig
@@ -222,7 +222,7 @@ endmenu
 menu "Bindings"
 config USE_NODEJS
 	bool "Node.js bindings"
-	depends on HAVE_NODEJS && HAVE_NODEJS_NPM
+	depends on HAVE_NODEJS && HAVE_NODEJS_NPM && HAVE_NODE_GYP
 	default n
 	help
 		Enable Node.js bindings
diff --git a/Makefile b/Makefile
index 8d69f0fa..2de10294 100644
--- a/Makefile
+++ b/Makefile
@@ -20,30 +20,6 @@ include $(top_srcdir)tools/build/Makefile.vars
 
 include $(top_srcdir)tools/build/Makefile.common
 
-ifneq ($(USE_NODEJS),)
-
-bins-out += nodejs_bindings
-
-nodejs_bindings: $(SOL_LIB_OUTPUT)
-	# Install dependencies without building the package
-	@ npm install --ignore-scripts
-
-	# Build the package without clobbering build/
-	@ \
-		SOLETTA_CFLAGS="$(addprefix -I,$(abspath $(HEADERDIRS)))" \
-		SOLETTA_LIBS="$(FIND_LIBRARY_LDFLAGS)" \
-		NODE_GYP="$$(if test -x "$$(which node-gyp 2> /dev/null)"; then \
-				echo "$$(which node-gyp)"; \
-			elif test -x "$$(dirname $$(which node))/../lib/node_modules/npm/bin/node-gyp-bin/node-gyp"; then \
-				echo "$$(dirname $$(which node))/../lib/node_modules/npm/bin/node-gyp-bin/node-gyp"; \
-			fi)"; \
-		( SOLETTA_CFLAGS="$${SOLETTA_CFLAGS}" SOLETTA_LIBS="$${SOLETTA_LIBS}" $${NODE_GYP} configure && \
-		SOLETTA_CFLAGS="$${SOLETTA_CFLAGS}" SOLETTA_LIBS="$${SOLETTA_LIBS}" $${NODE_GYP} build )
-
-PHONY += nodejs_bindings
-
-endif
-
 # kconfig interface rules
 ifeq (help, $(filter help,$(MAKECMDGOALS)))
 help: soletta_help
diff --git a/data/jsons/dependencies.json b/data/jsons/dependencies.json
index 91df0530..a8c293f1 100644
--- a/data/jsons/dependencies.json
+++ b/data/jsons/dependencies.json
@@ -609,6 +609,16 @@
         "in-tree": "{TOP_SRCDIR}/src/thirdparty/mavlink",
         "out-of-tree": "{MAVLINK_SRC}"
       }
+    },
+    {
+      "dependency": "node_gyp",
+      "type": "filesystem",
+      "files": [
+        "node-gyp"
+      ],
+      "path": {
+        "out-of-tree": "{NODEJS_NPM_DIR}/node-gyp-bin"
+      }
     }
   ]
 }
diff --git a/tools/build/Makefile.targets b/tools/build/Makefile.targets
index cca6727b..41359ec8 100644
--- a/tools/build/Makefile.targets
+++ b/tools/build/Makefile.targets
@@ -194,3 +194,23 @@ cheat-sheet:
 endif
 
 PHONY += cheat-sheet
+
+ifneq ($(USE_NODEJS),)
+
+bins-out += nodejs_bindings
+NODE_GYP=$(NODE_GYP_PATH)/node-gyp
+
+nodejs_bindings: $(SOL_LIB_OUTPUT)
+	# Install dependencies without building the package
+	$(Q)$(NODEJS_NPM) install --ignore-scripts
+
+	# Build the package without clobbering build/
+	$(Q) \
+		SOLETTA_CFLAGS="$(addprefix -I,$(abspath $(HEADERDIRS)))" \
+		SOLETTA_LIBS="$(FIND_LIBRARY_LDFLAGS)" \
+               SOLETTA_CFLAGS="$${SOLETTA_CFLAGS}" SOLETTA_LIBS="$${SOLETTA_LIBS}" $(NODE_GYP) configure && \
+               SOLETTA_CFLAGS="$${SOLETTA_CFLAGS}" SOLETTA_LIBS="$${SOLETTA_LIBS}" $(NODE_GYP) build
+
+PHONY += nodejs_bindings
+
+endif