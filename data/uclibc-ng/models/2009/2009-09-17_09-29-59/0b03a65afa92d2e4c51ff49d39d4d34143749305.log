"2009-09-17 09:29:59 +0200"
diff --git a/extra/Configs/Config.in b/extra/Configs/Config.in
index 0108cb0eb..efa90d7df 100644
--- a/extra/Configs/Config.in
+++ b/extra/Configs/Config.in
@@ -1183,6 +1183,12 @@ config UCLIBC_HAS_EXTRA_COMPAT_RES_STATE
 	  Answer Y if selecting UCLIBC_HAS_COMPAT_RES_STATE is not enough.
 	  As far as I can say, this should never be needed.
 
+config UCLIBC_HAS_RESOLV_STUB
+	bool "Provide libresolv stub"
+	default n
+	help
+	  Provide a dummy resolv library.
+
 endif
 
 
diff --git a/libresolv/Makefile.in b/libresolv/Makefile.in
index b7475d757..879603be7 100644
--- a/libresolv/Makefile.in
+++ b/libresolv/Makefile.in
@@ -28,8 +28,10 @@ libresolv-a-y := $(libresolv_OBJ)
 endif
 libresolv-so-y := $(libresolv_OBJ:.o=.os)
 
+ifeq ($(UCLIBC_HAS_RESOLV_STUB),y)
 lib-a-y += $(top_builddir)lib/libresolv.a
 lib-so-y += $(top_builddir)lib/libresolv.so
+endif
 objclean-y += libresolv_clean
 
 ifeq ($(DOPIC),y)