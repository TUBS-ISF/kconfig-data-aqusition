"2006-07-04 22:23:01 +0000"
diff --git a/Rules.mak b/Rules.mak
index 8a3636cc7..89fded38f 100644
--- a/Rules.mak
+++ b/Rules.mak
@@ -381,10 +381,10 @@ CFLAGS += -O0 -g3
 else
 CFLAGS += $(OPTIMIZATION) $(XARCH_CFLAGS)
 endif
-ifeq ($(NOSTRIP),y)
-STRIPTOOL := true -Stripping_disabled
-else
+ifeq ($(DOSTRIP),y)
 LDFLAGS += -s
+else
+STRIPTOOL := true -Stripping_disabled
 endif
 
 ifeq ($(DOMULTI),y)
diff --git a/extra/Configs/Config.in b/extra/Configs/Config.in
index fd3b03219..96f77fa5e 100644
--- a/extra/Configs/Config.in
+++ b/extra/Configs/Config.in
@@ -1407,7 +1407,6 @@ config CROSS_COMPILER_PREFIX
 config DODEBUG
 	bool "Build uClibc with debugging symbols"
 	default n
-	select NOSTRIP
 	select EXTRA_WARNINGS
 	help
 	  Say Y here if you wish to compile uClibc with debugging symbols.
@@ -1428,14 +1427,15 @@ config DODEBUG_PT
 
 	  Otherwise, answer N.
 
-config NOSTRIP
-	bool "Do not strip libraries and executables"
-	default n
+config DOSTRIP
+	bool "Strip libraries and executables"
+	default y
+	depends on !DODEBUG
 	help
-	  Say Y here if you do not wish to strip all uClibc libraries and
-	  executables.  This increases the size of the binaries considerably,
-	  but makes it possible to directly debug uClibc libraries.
-	  Most people will answer N.
+	  Say Y here if you do wish to strip all uClibc libraries and
+	  executables.  No stripping increases the size of the binaries
+	  considerably, but makes it possible to debug uClibc libraries.
+	  Most people will answer Y.
 
 config DOASSERTS
 	bool "Build uClibc with run-time assertion testing"
diff --git a/libpthread/linuxthreads.old_db/Makefile.in b/libpthread/linuxthreads.old_db/Makefile.in
index acdcd69e3..96e1b9496 100644
--- a/libpthread/linuxthreads.old_db/Makefile.in
+++ b/libpthread/linuxthreads.old_db/Makefile.in
@@ -9,7 +9,7 @@
 CFLAGS-linuxthreads.old_db := -DNOT_IN_libc -DLIBPTHREAD_SO="\"libpthread.so.$(MAJOR_VERSION)\""
 
 LDFLAGS-libthread_db.so := $(LDFLAGS_NOSTRIP) $(call check_ld,--warn-unresolved-symbols)
-ifneq ($(NOSTRIP),y)
+ifeq ($(DOSTRIP),y)
 LDFLAGS-libthread_db.so += -s
 endif
 
diff --git a/libpthread/linuxthreads_db/Makefile.in b/libpthread/linuxthreads_db/Makefile.in
index 1dd2b02b0..d6ad70085 100644
--- a/libpthread/linuxthreads_db/Makefile.in
+++ b/libpthread/linuxthreads_db/Makefile.in
@@ -9,7 +9,7 @@
 CFLAGS-linuxthreads_db := -DNOT_IN_libc -DLIBPTHREAD_SO="\"libpthread.so.$(MAJOR_VERSION)\""
 
 LDFLAGS-libthread_db.so := $(LDFLAGS_NOSTRIP) $(call check_ld,--warn-unresolved-symbols)
-ifneq ($(NOSTRIP),y)
+ifeq ($(DOSTRIP),y)
 LDFLAGS-libthread_db.so += -s
 endif
 