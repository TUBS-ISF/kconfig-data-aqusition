"2005-10-29 00:45:47 +0000"
diff --git a/Rules.mak b/Rules.mak
index 0e4e9aa3c..55fee0cbc 100644
--- a/Rules.mak
+++ b/Rules.mak
@@ -312,6 +312,7 @@ else
     LDFLAGS := $(LDFLAGS_NOSTRIP) -s
 endif
 
+ifeq ($(DOMULTI),y)
 # we try to compile all sources at once into an object (IMA), but
 # gcc-3.3.x does not support it
 # gcc-3.4.x supports it, but does not need and support --combine
@@ -319,10 +320,13 @@ endif
 # gcc-4.1(200506xx) supports it, but needs the --combine flag, else libs are useless
 GCC_VER?=$(shell $(CC) -dumpversion | cut -d . -f 1,2)
 ifeq ($(GCC_VER),3.3)
-DOMULTI=n
+DOMULTI:=n
 else
 CFLAGS+=$(call check_gcc,--combine,)
 endif
+else
+DOMULTI:=n
+endif
 
 ifeq ($(UCLIBC_HAS_THREADS),y)
 ifeq ($(UCLIBC_HAS_THREADS_NATIVE),y)
diff --git a/extra/Configs/Config.in b/extra/Configs/Config.in
index c79befdcf..ae12714e8 100644
--- a/extra/Configs/Config.in
+++ b/extra/Configs/Config.in
@@ -1335,6 +1335,12 @@ config WARNINGS
 	help
 	  Set this to the set of gcc warnings you wish to see while compiling.
 
+config DOMULTI
+	bool "Compile all sources at once into an object"
+	default n
+	help
+	  Set this to compile all sources at once into an object (IMA).
+
 config UCLIBC_MJN3_ONLY
 	bool "Manuel's hidden warnings"
 	default n